import{a as D}from"../js/vendor/styled-BqWM25Q9.js";import{i as j}from"../js/vendor/themes-DL8JkT7U.js";import{c as G}from"../js/vendor/runtime-dom-DPieCLYf.js";import{b as z,o,e as m,c as k,E as C,q as O,f as Y,F as B,p as W,v as E,l as N,k as K,h as b,g as y,G as J,H as Q}from"../js/vendor/runtime-core-Bo7vMbeO.js";import{u as X,a as Z,c as ee,b as te}from"../js/vendor/dist-Bdb8ILV-.js";import{s as ae}from"../js/vendor/toggleswitch-By79tnAC.js";import{s as se}from"../js/vendor/selectbutton-CmFX74ex.js";import{s as re}from"../js/vendor/progressspinner-D6wsPu61.js";import{s as le}from"../js/vendor/select-B0mE4uEv.js";import{d as oe}from"../js/vendor/lib-oVxhnyrt.js";import{s as ne}from"../js/vendor/column-BTyuqk1b.js";import{s as ue}from"../js/vendor/datatable-BhFyI10z.js";import{u as s,r as H}from"../js/vendor/reactivity-Dhx2IWMo.js";import{n as ie,t as de}from"../js/vendor/shared-7YLTi_yj.js";import{P as ce}from"../js/vendor/core-E-lCN-sd.js";import"../js/vendor/utils-CXbrStuA.js";import"../js/vendor/ripple-BoKhGZ72.js";import"../js/vendor/togglebutton-C-a0e0_C.js";import"../js/vendor/icons-C9KxCpTf.js";import"../js/vendor/iconfield-CrOWoswL.js";import"../js/vendor/inputicon-CEN7Asii.js";import"../js/vendor/inputtext-DhJGGmea.js";import"../js/vendor/overlayeventbus-BSK1J2z9.js";import"../js/vendor/portal-Dzph0WyN.js";import"../js/vendor/virtualscroller-BQVYF_MY.js";import"../js/vendor/paginator-Bnv_e104.js";import"../js/vendor/inputnumber-DeThhC9L.js";import"../js/vendor/button-CVa3KTbL.js";import"../js/vendor/badge-DSBxIqxw.js";import"../js/vendor/checkbox-CN1GMljm.js";import"../js/vendor/radiobutton-SBnvdo6z.js";import"../js/vendor/focustrap-DwTpslTT.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&t(h)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();const V=(e,u)=>{const r=e.__vccOpts||e;for(const[t,a]of u)r[t]=a;return r},fe={};function pe(e,u){const r=z("router-view");return o(),m(r)}const me=V(fe,[["render",pe]]),he="/torps-fpl/assets/torps_logo-DaOS8Yjd.png",ve={__name:"Table",props:["data","columns","tableHeight","display","sortable"],setup(e){return(u,r)=>(o(),k("div",{class:ie({hidden:!e.display})},[r[0]||(C(-1),(r[0]=O(s(ue),{value:e.data,scrollable:"","scroll-height":e.tableHeight},{default:Y(()=>[(o(!0),k(B,null,W(e.columns,t=>(o(),m(s(ne),{key:t.field,field:t.field,header:t.header,frozen:t.field==="player",sortable:e.sortable},null,8,["field","header","frozen","sortable"]))),128))]),_:1},8,["value","scroll-height"])).cacheIndex=0,C(1),r[0])],2))}},P=V(ve,[["__scopeId","data-v-705c6dbf"]]),L=e=>(e="/torps-fpl/"+e,new Promise((u,r)=>{fetch(e).then(t=>{if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()}).then(t=>{u(t)}).catch(t=>{r(t)})})),U=e=>L(`${e}_render_players.json`),q=e=>L(`${e}_render_teams.json`),ge=()=>L("last_updated.json"),M=e=>(J("data-v-4f8e9d81"),e=e(),Q(),e),ye={class:"container"},be={class:"title"},_e=M(()=>b("img",{src:he,alt:"logo"},null,-1)),we={class:"text"},Pe=M(()=>b("h1",null,"Torps Fantasy League",-1)),He={class:"actions"},ke={key:0,class:"show-extended"},Se=M(()=>b("p",null,"Show all player data",-1)),A=["Players","Teams"],F=["Club","Firsts"],R=[{field:"rank",header:"Rank",default:!0},{field:"name",header:"Team Name",default:!0},{field:"owner",header:"Owner",default:!0},{field:"currentPoints",header:"Points",default:!0},{field:"points",header:"Total",default:!0}],T=[{field:"player",header:"Player",default:!0},{field:"position",header:"Position",default:!1},{field:"games",header:"Games",default:!0},{field:"goals",header:"Goals",default:!0},{field:"assists",header:"Assists",default:!0},{field:"wins",header:"Wins",default:!1},{field:"losses",header:"Losses",default:!1},{field:"draws",header:"Draws",default:!1},{field:"minutes_played",header:"Minutes",default:!1},{field:"motm_votes",header:"Votes",default:!1},{field:"yellow_card",header:"Yellows",default:!1},{field:"red_card",header:"Reds",default:!1},{field:"own_goal",header:"Own Goals",default:!1},{field:"clean_sheet",header:"Clean Sheets",default:!1},{field:"penalty_save",header:"Penalty Saves",default:!1},{field:"currentPoints",header:"Points",default:!0},{field:"points",header:"Total",default:!0}],Te={__name:"Main",setup(e){const u=X(),r=Z();let t,a,l,h,S,v;const x=H(!0),_=H(u.query.tab||A[0]),w=H(u.query.source||F[0]),c=H(window.innerHeight>768),g=H(!1),i=E(()=>w.value==="Firsts"),n=E(()=>_.value==="Players"),I=()=>{const f=document.querySelector(".actions").getBoundingClientRect().bottom;return window.visualViewport.height-f-32+"px"};return N(_,f=>{r.push({query:{tab:f,source:w.value}})}),N(w,f=>{r.push({query:{tab:_.value,source:f}})}),K(async()=>{v=I(),t=await U("firsts"),a=await U("club"),l=await q("firsts"),l=l.map((f,d)=>({...f,rank:d+1})),h=await q("club"),h=h.map((f,d)=>({...f,rank:d+1})),S=await ge(),S=new Date(S.lastUpdated),r.push({query:{tab:_.value,source:w.value}}),setTimeout(()=>{g.value=!0},1),x.value=!1}),(f,d)=>(o(),k("div",ye,[b("div",be,[_e,b("span",we,[Pe,b("p",null,"Last updated: "+de(s(oe)(s(S),"yyyy-mm-dd HH:MM")),1)])]),O(s(se),{modelValue:_.value,"onUpdate:modelValue":d[0]||(d[0]=p=>_.value=p),options:A,allowEmpty:!1,class:"selector"},null,8,["modelValue"]),b("div",He,[O(s(le),{modelValue:w.value,"onUpdate:modelValue":d[1]||(d[1]=p=>w.value=p),options:F,allowEmpty:!1},null,8,["modelValue"]),n.value?(o(),k("div",ke,[Se,O(s(ae),{modelValue:c.value,"onUpdate:modelValue":d[2]||(d[2]=p=>c.value=p)},null,8,["modelValue"])])):y("",!0)]),x.value?(o(),m(s(re),{key:0,id:"spinner"})):(o(),k(B,{key:1},[i.value&&n.value&&c.value||g.value?(o(),m(P,{key:0,data:s(t),columns:T,tableHeight:s(v),display:i.value&&n.value&&c.value,sortable:!0},null,8,["data","tableHeight","display"])):y("",!0),i.value&&n.value&&!c.value||g.value?(o(),m(P,{key:1,data:s(t),columns:T.filter(p=>p.default),tableHeight:s(v),display:i.value&&n.value&&!c.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):y("",!0),!i.value&&n.value&&c.value||g.value?(o(),m(P,{key:2,data:s(a),columns:T,tableHeight:s(v),display:!i.value&&n.value&&c.value,sortable:!0},null,8,["data","tableHeight","display"])):y("",!0),!i.value&&n.value&&!c.value||g.value?(o(),m(P,{key:3,data:s(a),columns:T.filter(p=>p.default),tableHeight:s(v),display:!i.value&&n.value&&!c.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):y("",!0),i.value&&!n.value||g.value?(o(),m(P,{key:4,data:s(l),columns:R,tableHeight:s(v),display:i.value&&!n.value,sortable:!1},null,8,["data","tableHeight","display"])):y("",!0),!i.value&&!n.value||g.value?(o(),m(P,{key:5,data:s(h),columns:R,tableHeight:s(v),display:!i.value&&!n.value,sortable:!1},null,8,["data","tableHeight","display"])):y("",!0)],64))]))}},Oe=V(Te,[["__scopeId","data-v-4f8e9d81"]]),Ve=[{path:"/",component:Oe}],Le=ee({history:te("/torps-fpl/"),routes:Ve}),Me=D(j,{semantic:{transitionDuration:"0.05s",primary:{50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},colorScheme:{light:{surface:{0:"#fffdf9",50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"#000",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"}}}}}),$=G(me);$.use(Le);$.mount("#app");$.use(ce,{theme:{preset:Me,options:{darkModeSelector:".fake-dark-selector"}}});
