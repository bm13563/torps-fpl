import{a as q}from"../js/vendor/styled-BqWM25Q9.js";import{i as B}from"../js/vendor/themes-DL8JkT7U.js";import{c as G}from"../js/vendor/runtime-dom-DPieCLYf.js";import{b as F,o as d,e as y,c as g,E,q as P,f as I,F as N,p as W,v as C,l as $,k as j,h as f,g as _,G as z,H as Y}from"../js/vendor/runtime-core-Bo7vMbeO.js";import{u as K,a as J,c as Q,b as X}from"../js/vendor/dist-Bdb8ILV-.js";import{s as Z}from"../js/vendor/toggleswitch-By79tnAC.js";import{s as ee}from"../js/vendor/selectbutton-CmFX74ex.js";import{s as te}from"../js/vendor/progressspinner-D6wsPu61.js";import{s as ae}from"../js/vendor/select-B0mE4uEv.js";import{d as se}from"../js/vendor/lib-oVxhnyrt.js";import{s as oe}from"../js/vendor/column-BTyuqk1b.js";import{s as re}from"../js/vendor/datatable-BhFyI10z.js";import{u as r,r as w}from"../js/vendor/reactivity-Dhx2IWMo.js";import{n as le,t as ne,b as ie}from"../js/vendor/shared-7YLTi_yj.js";import{P as de}from"../js/vendor/core-E-lCN-sd.js";import"../js/vendor/utils-CXbrStuA.js";import"../js/vendor/ripple-BoKhGZ72.js";import"../js/vendor/togglebutton-C-a0e0_C.js";import"../js/vendor/icons-C9KxCpTf.js";import"../js/vendor/iconfield-CrOWoswL.js";import"../js/vendor/inputicon-CEN7Asii.js";import"../js/vendor/inputtext-DhJGGmea.js";import"../js/vendor/overlayeventbus-BSK1J2z9.js";import"../js/vendor/portal-Dzph0WyN.js";import"../js/vendor/virtualscroller-BQVYF_MY.js";import"../js/vendor/paginator-Bnv_e104.js";import"../js/vendor/inputnumber-DeThhC9L.js";import"../js/vendor/button-CVa3KTbL.js";import"../js/vendor/badge-DSBxIqxw.js";import"../js/vendor/checkbox-CN1GMljm.js";import"../js/vendor/radiobutton-SBnvdo6z.js";import"../js/vendor/focustrap-DwTpslTT.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}})();const L=(t,s)=>{const l=t.__vccOpts||t;for(const[a,e]of s)l[a]=e;return l},ue={};function ce(t,s){const l=F("router-view");return d(),y(l)}const fe=L(ue,[["render",ce]]),pe="/torps-fpl/assets/torps_logo-DaOS8Yjd.png",me={__name:"Table",props:["data","columns","tableHeight","display","sortable"],setup(t){const s=t;return(l,a)=>(d(),g("div",{class:le({hidden:!t.display})},[a[0]||(E(-1),(a[0]=P(r(re),{value:t.data,scrollable:"",scrollHeight:`${s.tableHeight}px`,"virtual-scroller-options":{itemSize:39,appendOnly:!0}},{default:I(()=>[(d(!0),g(N,null,W(t.columns,e=>(d(),y(r(oe),{key:e.field,field:e.field,header:e.header,frozen:e.field==="player",sortable:t.sortable},null,8,["field","header","frozen","sortable"]))),128))]),_:1},8,["value","scrollHeight"])).cacheIndex=0,E(1),a[0])],2))}},T=L(me,[["__scopeId","data-v-580904d4"]]),M=t=>(t="/torps-fpl/"+t,new Promise((s,l)=>{fetch(t).then(a=>{if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return a.json()}).then(a=>{s(a)}).catch(a=>{l(a)})})),he=t=>{const s=t.replace("/","_");return M(`${s}_render_players.json`)},ye=t=>{const s=t.replace("/","_");return M(`${s}_render_teams.json`)},ge=()=>M("last_updated.json"),b=t=>(z("data-v-0611922f"),t=t(),Y(),t),ve={class:"container"},_e={class:"title"},be=b(()=>f("img",{src:pe,alt:"logo"},null,-1)),we={class:"text"},Pe=b(()=>f("h1",null,"Torps Fantasy League",-1)),Se={class:"actions"},Oe={key:0,class:"show-extended"},ke=b(()=>f("p",null,"Show all player data",-1)),He=b(()=>f("h3",null,"Entries Open!",-1)),Te=b(()=>f("p",null,"Please submit your teams for the 25/26 season.",-1)),Le=[He,Te],A=["Players","Teams"],D=["25/26","24/25"],Me=[{field:"rank",header:"Rank",default:!0},{field:"name",header:"Team Name",default:!0},{field:"owner",header:"Owner",default:!0},{field:"GW Points",header:"Points",default:!0},{field:"Total Points",header:"Total",default:!0}],U=[{field:"player",header:"Player",default:!0},{field:"position",header:"Position",default:!1},{field:"games",header:"Games",default:!0},{field:"Goals",header:"Goals",default:!0},{field:"Assists",header:"Assists",default:!0},{field:"Wins",header:"Wins",default:!1},{field:"Losses",header:"Losses",default:!1},{field:"Draws",header:"Draws",default:!1},{field:"Minutes Played",header:"Minutes",default:!1},{field:"MOTM Votes",header:"Votes",default:!1},{field:"Yellow Cards",header:"Yellows",default:!1},{field:"Red Cards",header:"Reds",default:!1},{field:"Own Goals",header:"Own Goals",default:!1},{field:"Clean Sheet",header:"Clean Sheets",default:!1},{field:"Penalty Saves",header:"Penalty Saves",default:!1},{field:"GW Points",header:"Points",default:!0},{field:"Points",header:"Total",default:!0}],xe=U.filter(t=>t.default),Ve={__name:"Main",setup(t){const s=K(),l=J();let a,e,o,c,S=[];const O=w(!0),m=w(s.query.tab||A[0]),u=w(s.query.season||D[0]),h=w(window.innerHeight>768),p=C(()=>m.value==="Players"),k=C(()=>!e||e.length===0||e.every(n=>!n.name||!n.owner)),R=()=>{const n=document.querySelector(".actions").getBoundingClientRect().bottom;return window.visualViewport.height-n-32},H=(n,i)=>n||S.includes(i)?(S.includes(i)||S.push(i),!0):!1,V=async()=>{O.value=!0,a=await he(u.value),e=await ye(u.value),e=e.map((n,i)=>({...n,rank:i+1})),O.value=!1};return $(m,n=>{l.push({query:{tab:n,season:u.value}})}),$(u,async n=>{l.push({query:{tab:m.value,season:n}}),await V()}),j(async()=>{c=R(),await V(),o=await ge(),o=new Date(o.lastUpdated),l.push({query:{tab:m.value,season:u.value}})}),(n,i)=>(d(),g("div",ve,[f("div",_e,[be,f("span",we,[Pe,f("p",null,"Last updated: "+ne(r(o)?r(se)(r(o),"yyyy-mm-dd HH:MM"):""),1)])]),P(r(ee),{modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=v=>m.value=v),options:A,allowEmpty:!1,class:"selector"},null,8,["modelValue"]),f("div",Se,[P(r(ae),{modelValue:u.value,"onUpdate:modelValue":i[1]||(i[1]=v=>u.value=v),options:D,allowEmpty:!1},null,8,["modelValue"]),p.value?(d(),g("div",Oe,[ke,P(r(Z),{modelValue:h.value,"onUpdate:modelValue":i[2]||(i[2]=v=>h.value=v)},null,8,["modelValue"])])):_("",!0)]),O.value?(d(),y(r(te),{key:0,style:{width:"50px",height:"50px"},strokeWidth:"4",fill:"transparent",animationDuration:".5s"})):(d(),g(N,{key:1},[H(p.value&&h.value,"playersExtended")?(d(),y(T,{key:0,data:r(a),columns:U,tableHeight:r(c),display:p.value&&h.value,sortable:!0},null,8,["data","tableHeight","display"])):_("",!0),H(p.value&&!h.value,"playersDefault")?(d(),y(T,{key:1,data:r(a),columns:r(xe),tableHeight:r(c),display:p.value&&!h.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):_("",!0),!p.value&&k.value&&u.value==="25/26"?(d(),g("div",{key:2,class:"coming-soon",style:ie({height:r(c)+"px"})},Le,4)):_("",!0),H(!p.value&&(!k.value||u.value!=="25/26"),"teams")?(d(),y(T,{key:3,data:r(e),columns:Me,tableHeight:r(c),display:!p.value&&(!k.value||u.value!=="25/26"),sortable:!1},null,8,["data","tableHeight","display"])):_("",!0)],64))]))}},Ee=L(Ve,[["__scopeId","data-v-0611922f"]]),Ce=[{path:"/",component:Ee}],$e=Q({history:X("/torps-fpl/"),routes:Ce}),Ae=q(B,{semantic:{transitionDuration:"0.05s",primary:{50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},colorScheme:{light:{surface:{0:"#fffdf9",50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},formField:{disabledBackground:"#f5f5f5",disabledColor:"#b3b3b3"},text:{color:"#000"}}}}}),x=G(fe);x.use($e);x.mount("#app");x.use(de,{theme:{preset:Ae,options:{darkModeSelector:".fake-dark-selector"}}});
