import{a as ne}from"../js/vendor/styled-DSgQuI8p.js";import{i as ie}from"../js/vendor/themes-DL8JkT7U.js";import{c as de}from"../js/vendor/runtime-dom-CtfsddF2.js";import{b as ue,o as h,e as P,v as b,l as F,c as C,f as ce,n as A,F as q,p as pe,k as Y,h as s,q as $,g as N,E as G,G as B,H as me,I as fe,a as ve}from"../js/vendor/runtime-core-ynBvhIh5.js";import{u as he,a as Q,c as ge,b as ye}from"../js/vendor/dist-CHq7v0zE.js";import{s as X}from"../js/vendor/toggleswitch-DLpg8H58.js";import{s as Z}from"../js/vendor/selectbutton-Ba083XO8.js";import{s as be}from"../js/vendor/progressspinner-CPtq0FJx.js";import{s as H}from"../js/vendor/select-CIyzeswM.js";import{d as _e}from"../js/vendor/lib-oVxhnyrt.js";import{s as $e}from"../js/vendor/column-CTe6X_DJ.js";import{s as ke}from"../js/vendor/datatable-QtF6YMTo.js";import{u as d,r as S}from"../js/vendor/reactivity-Dhx2IWMo.js";import{n as ee,t as x,b as Pe}from"../js/vendor/shared-7YLTi_yj.js";import{s as ae}from"../js/vendor/button-BW2A4y55.js";import{s as Se}from"../js/vendor/inputtext-CRS9Ss4S.js";import{s as W}from"../js/vendor/multiselect-DH7QLH15.js";import{P as we}from"../js/vendor/core-BvHsUG4k.js";import"../js/vendor/utils-DJmc-F4Z.js";import"../js/vendor/ripple-DfDPvZex.js";import"../js/vendor/togglebutton-BX32B6IM.js";import"../js/vendor/icons-BcUEpkMI.js";import"../js/vendor/iconfield-BtrhL1HP.js";import"../js/vendor/inputicon-cOSiGVTQ.js";import"../js/vendor/overlayeventbus-CKr6vRte.js";import"../js/vendor/portal-XRSoYqPB.js";import"../js/vendor/virtualscroller-BaVQnrxr.js";import"../js/vendor/paginator-DxnICM4r.js";import"../js/vendor/inputnumber-B0sL7m2o.js";import"../js/vendor/checkbox-DOAD99u0.js";import"../js/vendor/radiobutton-D2XyLn4V.js";import"../js/vendor/focustrap-Cj7KAqhK.js";import"../js/vendor/badge-JWr2y0kS.js";import"../js/vendor/chip-Cpy-36HV.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))m(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const v of r.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&m(v)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function m(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();const M=(o,u)=>{const i=o.__vccOpts||o;for(const[m,e]of u)i[m]=e;return i},Te={};function Ne(o,u){const i=ue("router-view");return h(),P(i)}const Ve=M(Te,[["render",Ne]]),te="/torps-fpl/assets/torps_logo-DaOS8Yjd.png",Ce={__name:"Table",props:["data","columns","tableHeight","display","sortable"],setup(o){const u=o,i=b(()=>({itemSize:39,appendOnly:!1,showLoader:!1,delay:0})),m=b(()=>{var r;return`table-${((r=u.data)==null?void 0:r.length)||0}-${u.display?"visible":"hidden"}`}),e=()=>{A(()=>{var v;const r=document.querySelector(".p-datatable");r&&r.__vue__&&((v=r.__vue__.virtualScroller)==null||v.refresh())})};return F(()=>u.data,()=>{A(()=>{const r=document.querySelector(".p-virtualscroller");r&&r.__vue__&&r.__vue__.refresh()})},{flush:"post"}),(r,v)=>(h(),C("div",{class:ee({hidden:!o.display})},[(h(),P(d(ke),{value:o.data,scrollable:"",scrollHeight:`${u.tableHeight}px`,"virtual-scroller-options":i.value,key:m.value,onVirtualScrollerOptions:e},{default:ce(()=>[(h(!0),C(q,null,pe(o.columns,k=>(h(),P(d($e),{key:k.field,field:k.field,header:k.header,frozen:k.field==="player",sortable:o.sortable},null,8,["field","header","frozen","sortable"]))),128))]),_:1},8,["value","scrollHeight","virtual-scroller-options"]))],2))}},I=M(Ce,[["__scopeId","data-v-a46d3e23"]]),z=o=>(o="/torps-fpl/"+o,new Promise((u,i)=>{fetch(o).then(m=>{if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);return m.json()}).then(m=>{u(m)}).catch(m=>{i(m)})})),xe=o=>{const u=o.replace("/","_");return z(`${u}_render_players.json`)},Ee=o=>{const u=o.replace("/","_");return z(`${u}_render_teams.json`)},Me=()=>z("last_updated.json"),R=o=>(G("data-v-7b3e3510"),o=o(),B(),o),Le={class:"container"},Oe={class:"title"},He=R(()=>s("img",{src:te,alt:"logo"},null,-1)),Fe={class:"text"},Ae=R(()=>s("h1",null,"Torps Fantasy League",-1)),Ie={class:"actions"},Re={key:0,class:"show-extended"},Ue=R(()=>s("p",null,"Show all player data",-1)),De=R(()=>s("h3",null,"Entries Open!",-1)),Ge=R(()=>s("p",null,"Please submit your teams for the 25/26 season.",-1)),K=["Players","Teams"],J=["25/26","24/25"],Be=[{field:"rank",header:"Rank",default:!0},{field:"name",header:"Team Name",default:!0},{field:"owner",header:"Owner",default:!0},{field:"GW Points",header:"Points",default:!0},{field:"Total Points",header:"Total",default:!0}],le=[{field:"player",header:"Player",default:!0},{field:"position",header:"Position",default:!1},{field:"games",header:"Games",default:!0},{field:"Goals",header:"Goals",default:!0},{field:"Assists",header:"Assists",default:!0},{field:"Wins",header:"Wins",default:!1},{field:"Losses",header:"Losses",default:!1},{field:"Draws",header:"Draws",default:!1},{field:"Minutes Played",header:"Minutes",default:!1},{field:"MOTM Votes",header:"Votes",default:!1},{field:"Yellow Cards",header:"Yellows",default:!1},{field:"Red Cards",header:"Reds",default:!1},{field:"Own Goals",header:"Own Goals",default:!1},{field:"Clean Sheet",header:"Clean Sheets",default:!1},{field:"Penalty Saves",header:"Penalty Saves",default:!1},{field:"GW Points",header:"Points",default:!0},{field:"Points",header:"Total",default:!0}],We=le.filter(o=>o.default),qe={__name:"Main",setup(o){const u=he(),i=Q();let m,e,r,v,k=[];const w=S(!0),n=S(u.query.tab||K[0]),f=S(u.query.season||J[0]),g=S(window.innerHeight>768),y=b(()=>n.value==="Players"),V=b(()=>!e||e.length===0||e.every(t=>!t.name||!t.owner)),_=()=>{const t=document.querySelector(".actions").getBoundingClientRect().bottom;return window.visualViewport.height-t-32},c=(t,l)=>t||k.includes(l)?(k.includes(l)||k.push(l),!0):!1,T=()=>{i.push("/team-picker")},a=async()=>{w.value=!0,m=await xe(f.value),e=await Ee(f.value),e=e.map((t,l)=>({...t,rank:l+1})),w.value=!1};return F(n,t=>{i.push({query:{tab:t,season:f.value}})}),F(f,async t=>{i.push({query:{tab:n.value,season:t}}),await a()}),Y(async()=>{v=_(),await a(),r=await Me(),r=new Date(r.lastUpdated),i.push({query:{tab:n.value,season:f.value}})}),(t,l)=>(h(),C("div",Le,[s("div",Oe,[He,s("span",Fe,[Ae,s("p",null,"Last updated: "+x(d(r)?d(_e)(d(r),"yyyy-mm-dd HH:MM"):""),1)])]),$(d(Z),{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=p=>n.value=p),options:K,allowEmpty:!1,class:"selector"},null,8,["modelValue"]),s("div",Ie,[$(d(H),{modelValue:f.value,"onUpdate:modelValue":l[1]||(l[1]=p=>f.value=p),options:J,allowEmpty:!1},null,8,["modelValue"]),y.value?(h(),C("div",Re,[Ue,$(d(X),{modelValue:g.value,"onUpdate:modelValue":l[2]||(l[2]=p=>g.value=p)},null,8,["modelValue"])])):N("",!0)]),w.value?(h(),P(d(be),{key:0,style:{width:"50px",height:"50px"},strokeWidth:"4",fill:"transparent",animationDuration:".5s"})):(h(),C(q,{key:1},[c(y.value&&g.value,"playersExtended")?(h(),P(I,{key:0,data:d(m),columns:le,tableHeight:d(v),display:y.value&&g.value,sortable:!0},null,8,["data","tableHeight","display"])):N("",!0),c(y.value&&!g.value,"playersDefault")?(h(),P(I,{key:1,data:d(m),columns:d(We),tableHeight:d(v),display:y.value&&!g.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):N("",!0),!y.value&&V.value&&f.value==="25/26"?(h(),C("div",{key:2,class:"coming-soon",style:Pe({height:d(v)+"px"})},[De,Ge,f.value==="25/26"?(h(),P(d(ae),{key:0,label:"Build Team",icon:"pi pi-users",onClick:T,class:"team-picker-btn"})):N("",!0)],4)):N("",!0),c(!y.value&&(!V.value||f.value!=="25/26"),"teams")?(h(),P(I,{key:3,data:d(e),columns:Be,tableHeight:d(v),display:!y.value&&(!V.value||f.value!=="25/26"),sortable:!1},null,8,["data","tableHeight","display"])):N("",!0)],64))]))}},Ye=M(qe,[["__scopeId","data-v-7b3e3510"]]),ze={},je={class:"rules-container"},Ke=me('<div class="rules-content" data-v-48e46b95><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Team Selection</h3><ul data-v-48e46b95><li data-v-48e46b95>Pick 11 players from a ¬£100 budget</li><li data-v-48e46b95>At least 1 NEW player required</li><li data-v-48e46b95>At least 1 player from each team (1, 2, 3, 4)</li><li data-v-48e46b95>No more than 4 players from a single team</li><li data-v-48e46b95>You cannot pick yourself</li></ul></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Captain &amp; 12th Man</h3><ul data-v-48e46b95><li data-v-48e46b95>Pick a captain who scores 2x points</li><li data-v-48e46b95>Cannot captain yourself/12th man</li><li data-v-48e46b95>You are your team&#39;s 12th man (free)</li><li data-v-48e46b95>If not playing, pick a NEW player as 12th man</li></ul></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Prizes</h3><ul data-v-48e46b95><li data-v-48e46b95><strong data-v-48e46b95>1st:</strong> 2/3 of prize pot</li><li data-v-48e46b95><strong data-v-48e46b95>2nd:</strong> Potentially Club Kit</li><li data-v-48e46b95><strong data-v-48e46b95>3rd:</strong> TBD</li></ul><p class="prize-note" data-v-48e46b95>¬£175 rollover guaranteed + Second Chance League</p></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>How Players Score Points</h3><ul data-v-48e46b95><li data-v-48e46b95>Points awarded for individual &amp; team performance each game</li><li data-v-48e46b95>Points for all competitive games</li><li data-v-48e46b95>Stats taken from manager score sheets at Port of Call</li><li data-v-48e46b95>Team performance points given to anyone who plays</li><li data-v-48e46b95>Player assigned to team they played most for last season</li><li data-v-48e46b95>Players with &quot;?&quot; have poor availability in first half</li></ul></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Winter Wildcard</h3><p data-v-48e46b95> No transfers during the season, but you&#39;ll get a <strong data-v-48e46b95>Winter Wildcard</strong> during the winter break to pick a completely new team for the second half! Prices will be adjusted based on first-half performance. </p></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Submit Your Team</h3><p data-v-48e46b95>Send your completed team to:</p><ul class="contact-list" data-v-48e46b95><li data-v-48e46b95>üì± +447818455491</li><li data-v-48e46b95>‚úâÔ∏è Alexanderhillbusiness@outlook.com</li></ul></div></div>',1),Je=[Ke];function Qe(o,u){return h(),C("div",je,Je)}const Xe=M(ze,[["render",Qe],["__scopeId","data-v-48e46b95"]]),Ze=o=>(G("data-v-4d310abd"),o=o(),B(),o),ea={class:"container"},aa={class:"actions"},ta={class:"show-extended"},la=Ze(()=>s("p",null,"Show all player data",-1)),sa={__name:"StatsTab",props:["players"],setup(o){const u=o,i=["All","GK","DEF","MID","FOR"],m=["All","1","2","3","4","New"],e=S(i[0]),r=S(m[0]),v=S(!1),k=S(!1),w=S(400);let n=[],f=null;const g=[{field:"playerName",header:"Player",default:!0},{field:"position",header:"Position",default:!0},{field:"team",header:"Team",default:!0},{field:"price",header:"Price",default:!0},{field:"totalPoints",header:"Total Pts",default:!0},{field:"pointsPerGame",header:"PPG",default:!0},{field:"gamesPlayed",header:"Games",default:!1},{field:"goals",header:"Goals",default:!1},{field:"assists",header:"Assists",default:!1},{field:"motmVotes",header:"MOTM",default:!1},{field:"cleanSheets",header:"CS",default:!1},{field:"yellowCards",header:"YC",default:!1},{field:"redCards",header:"RC",default:!1}],y=g.filter(a=>a.default),V=(a,t)=>a||n.includes(t)?(n.includes(t)||n.push(t),!0):!1,_=b(()=>{const a=e.value==="All"?null:e.value,t=r.value==="All"?null:r.value==="New"?"NEW":r.value;if(!u.players||u.players.length===0)return[];let l=[...u.players];return a&&(l=l.filter(p=>p.position===a)),t&&(l=l.filter(p=>p.team===t)),l.map(p=>{var O;return{...p,playerName:((O=p.playerName)==null?void 0:O.replace("?",""))||"",position:p.position||"",team:p.team||"",price:p.price||"¬£0",totalPoints:p.totalPoints||"0",pointsPerGame:p.pointsPerGame||"0.0",gamesPlayed:p.gamesPlayed||"0",goals:p.goals||"0",assists:p.assists||"0",motmVotes:p.motmVotes||"0",cleanSheets:p.cleanSheets||"0",yellowCards:p.yellowCards||"0",redCards:p.redCards||"0"}})}),c=()=>{try{const a=document.querySelector(".container"),t=document.querySelector(".actions");if(!a||!t)return 400;const l=a.getBoundingClientRect(),p=t.getBoundingClientRect(),U=window.innerHeight-p.bottom-32;return Math.max(300,Math.min(U,800))}catch(a){return console.warn("Error calculating table height:",a),400}},T=()=>{const a=c();a!==w.value&&(w.value=a)};return F([e,r,v],async()=>{await A(),setTimeout(()=>{T()},50)},{immediate:!1}),F(()=>_.value.length,async()=>{await A(),setTimeout(()=>{T()},50)}),Y(async()=>{if(await A(),setTimeout(()=>{T()},100),window.ResizeObserver){f=new ResizeObserver(()=>{T()});const a=document.querySelector(".container");a&&f.observe(a)}window.addEventListener("resize",T)}),fe(()=>{f&&f.disconnect(),window.removeEventListener("resize",T)}),(a,t)=>(h(),C("div",ea,[s("div",aa,[$(d(H),{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=l=>e.value=l),options:i,allowEmpty:!1},null,8,["modelValue"]),$(d(H),{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=l=>r.value=l),options:m,allowEmpty:!1},null,8,["modelValue"]),s("div",ta,[la,$(d(X),{modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=l=>v.value=l)},null,8,["modelValue"])])]),k.value?N("",!0):(h(),C(q,{key:0},[V(v.value,"playersExtended")?(h(),P(I,{key:`extended-${e.value}-${r.value}-${_.value.length}`,data:_.value,columns:g,tableHeight:w.value,display:v.value,sortable:!0},null,8,["data","tableHeight","display"])):N("",!0),V(!v.value,"playersDefault")?(h(),P(I,{key:`default-${e.value}-${r.value}-${_.value.length}`,data:_.value,columns:d(y),tableHeight:w.value,display:!v.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):N("",!0)],64))]))}},oa=M(sa,[["__scopeId","data-v-4d310abd"]]),L=o=>(G("data-v-cc0b0608"),o=o(),B(),o),ra={class:"minimal-picker"},na={class:"input-group"},ia=L(()=>s("label",null,[s("strong",null,"Team Name")],-1)),da={class:"validation-container"},ua={class:"budget-display"},ca={class:"input-group"},pa=L(()=>s("label",null,[s("strong",null,"Goalkeeper")],-1)),ma={class:"selected-players"},fa={class:"input-group"},va=L(()=>s("label",null,[s("strong",null,"Defenders")],-1)),ha={class:"selected-players"},ga={class:"input-group"},ya=L(()=>s("label",null,[s("strong",null,"Midfielders")],-1)),ba={class:"selected-players"},_a={class:"input-group"},$a=L(()=>s("label",null,[s("strong",null,"Attackers")],-1)),ka={class:"selected-players"},Pa={class:"input-group"},Sa=L(()=>s("label",null,[s("strong",null,"Captain (2x Points)")],-1)),wa={class:"input-group"},Ta=L(()=>s("label",null,[s("strong",null,"12th Man")],-1)),Na={__name:"PickerTab",props:["players","selectedTeam","teamValidation"],emits:["update-team","export-team"],setup(o,{emit:u}){const i=o,m=u,e=S({teamName:"",defenders:[],midfielders:[],attackers:[],goalkeeper:null,captain:null,twelfthMan:null}),r=b(()=>i.players.filter(a=>a.position==="DEF").map(a=>({...a,displayName:`${a.playerName} (${a.price}, Team ${a.team})`}))),v=b(()=>i.players.filter(a=>a.position==="MID").map(a=>({...a,displayName:`${a.playerName} (${a.price}, Team ${a.team})`}))),k=b(()=>i.players.filter(a=>a.position==="FOR").map(a=>({...a,displayName:`${a.playerName} (${a.price}, Team ${a.team})`}))),w=b(()=>i.players.filter(a=>a.position==="GK").map(a=>({...a,displayName:`${a.playerName} (${a.price}, Team ${a.team})`}))),n=b(()=>{const a=[...e.value.defenders,...e.value.midfielders,...e.value.attackers];return e.value.goalkeeper&&a.push(e.value.goalkeeper),a}),f=b(()=>{const a=n.value.map(t=>t.playerName);return[{playerName:"Yourself (Free)",displayName:"Yourself (Free)",position:"SELF",team:"SELF",price:"¬£0"},...i.players.filter(t=>t.team==="NEW"&&!a.includes(t.playerName)).map(t=>({...t,displayName:`${t.playerName} (Team ${t.team})`}))]}),g=b(()=>{const a=n.value,t=a.length;if(!e.value.teamName.trim())return{valid:!1,message:"Enter a team name"};if(!e.value.goalkeeper)return{valid:!1,message:"Select a goalkeeper"};if(t===0)return{valid:!1,message:"Select some players"};if(t!==11)return{valid:!1,message:`Select 11 players (currently ${t})`};const l=e.value.defenders.length,p=e.value.midfielders.length,O=e.value.attackers.length;if(l<3||l>5)return{valid:!1,message:"Select 3-5 defenders"};if(p<3||p>5)return{valid:!1,message:"Select 3-5 midfielders"};if(O<1||O>3)return{valid:!1,message:"Select 1-3 attackers"};const U=a.reduce((E,re)=>E+parseFloat(re.price.replace("¬£","")),0);if(U>100)return{valid:!1,message:`Over budget: ¬£${U}/¬£100`};const D={},oe=a.filter(E=>E.team==="NEW").length;return a.forEach(E=>{E.team!=="NEW"&&(D[E.team]=(D[E.team]||0)+1)}),oe<1?{valid:!1,message:"Select at least 1 NEW player"}:Math.max(...Object.values(D),0)>4?{valid:!1,message:"Max 4 players from one team"}:Object.keys(D).length<4?{valid:!1,message:"Select players from all 4 teams"}:e.value.captain?e.value.twelfthMan?{valid:!0,message:"Your team is valid!"}:{valid:!1,message:"Select a 12th man"}:{valid:!1,message:"Select a captain"}}),y=b(()=>g.value.valid),V=b(()=>g.value.message),_=b(()=>n.value.reduce((t,l)=>t+parseFloat(l.price.replace("¬£","")),0).toFixed(2)),c=()=>{const a={...e.value,players:n.value,formation:T()};m("update-team",a)},T=()=>{const a=e.value.defenders.length,t=e.value.midfielders.length,l=e.value.attackers.length;return`${a}-${t}-${l}`};return F(()=>i.selectedTeam,a=>{a&&(e.value.teamName=a.teamName||"",e.value.captain=a.captain,e.value.twelfthMan=a.twelfthMan,a.players&&(e.value.defenders=a.players.filter(t=>t.position==="DEF"),e.value.midfielders=a.players.filter(t=>t.position==="MID"),e.value.attackers=a.players.filter(t=>t.position==="FOR"),e.value.goalkeeper=a.players.find(t=>t.position==="GK")||null))},{immediate:!0,deep:!0}),(a,t)=>(h(),C("div",ra,[s("div",na,[ia,$(d(Se),{modelValue:e.value.teamName,"onUpdate:modelValue":t[0]||(t[0]=l=>e.value.teamName=l),placeholder:"Enter your team name",onInput:c},null,8,["modelValue"])]),s("div",da,[s("div",{class:ee(["validation-message",{valid:y.value,invalid:!y.value}])},[s("strong",null,x(y.value?"":"Invalid Team: "),1),ve(" "+x(V.value),1)],2),s("div",ua," ¬£"+x(100-_.value),1)]),$(d(ae),{label:"Copy Team to Clipboard",icon:"pi pi-copy",disabled:!y.value,onClick:t[1]||(t[1]=l=>a.$emit("export-team")),class:"export-btn"},null,8,["disabled"]),s("div",ca,[pa,$(d(H),{modelValue:e.value.goalkeeper,"onUpdate:modelValue":t[2]||(t[2]=l=>e.value.goalkeeper=l),options:w.value,optionLabel:"displayName",placeholder:"Select goalkeeper",onChange:c,class:"position-select"},null,8,["modelValue","options"]),s("div",ma,x(e.value.goalkeeper?`ü•Ö ${e.value.goalkeeper.playerName}`:"None selected"),1)]),s("div",fa,[va,$(d(W),{modelValue:e.value.defenders,"onUpdate:modelValue":t[3]||(t[3]=l=>e.value.defenders=l),options:r.value,optionLabel:"displayName",placeholder:"Select defenders",onChange:c,maxSelectedLabels:0,selectedItemsLabel:"{0} defenders selected",class:"position-select"},null,8,["modelValue","options"]),s("div",ha,x(e.value.defenders.length>0?`üõ°Ô∏è ${e.value.defenders.map(l=>l.playerName).join(", ")}`:"None selected"),1)]),s("div",ga,[ya,$(d(W),{modelValue:e.value.midfielders,"onUpdate:modelValue":t[4]||(t[4]=l=>e.value.midfielders=l),options:v.value,optionLabel:"displayName",placeholder:"Select midfielders",onChange:c,maxSelectedLabels:0,selectedItemsLabel:"{0} midfielders selected",class:"position-select"},null,8,["modelValue","options"]),s("div",ba,x(e.value.midfielders.length>0?`‚öΩ ${e.value.midfielders.map(l=>l.playerName).join(", ")}`:"None selected"),1)]),s("div",_a,[$a,$(d(W),{modelValue:e.value.attackers,"onUpdate:modelValue":t[5]||(t[5]=l=>e.value.attackers=l),options:k.value,optionLabel:"displayName",placeholder:"Select attackers",onChange:c,maxSelectedLabels:0,selectedItemsLabel:"{0} attackers selected",class:"position-select"},null,8,["modelValue","options"]),s("div",ka,x(e.value.attackers.length>0?`üéØ ${e.value.attackers.map(l=>l.playerName).join(", ")}`:"None selected"),1)]),s("div",Pa,[Sa,$(d(H),{modelValue:e.value.captain,"onUpdate:modelValue":t[6]||(t[6]=l=>e.value.captain=l),options:n.value,optionLabel:"displayName",placeholder:"Select captain",onChange:c},null,8,["modelValue","options"])]),s("div",wa,[Ta,$(d(H),{modelValue:e.value.twelfthMan,"onUpdate:modelValue":t[7]||(t[7]=l=>e.value.twelfthMan=l),options:f.value,optionLabel:"displayName",placeholder:"Select 12th man",onChange:c},null,8,["modelValue","options"])])]))}},Va=M(Na,[["__scopeId","data-v-cc0b0608"]]),se=o=>(G("data-v-fa07fb77"),o=o(),B(),o),Ca={class:"container"},xa=se(()=>s("img",{src:te,alt:"logo"},null,-1)),Ea=se(()=>s("h1",null,"Team Builder",-1)),Ma={class:"tab-content"},La=["Rules","Player Stats","Pick Team"],Oa={__name:"TeamPicker",setup(o){const u=Q(),i=S("Rules"),m=S([]),e=S({teamName:"",defenders:[],midfielders:[],attackers:[],players:[],captain:null,twelfthMan:null,formation:"4-4-2"}),r=b(()=>({isValid:()=>!0})),v=n=>{e.value={...e.value,...n}},k=()=>{const n=e.value,f=n.formation||"Custom",g=[];n.goalkeeper&&g.push(n.goalkeeper),n.defenders&&g.push(...n.defenders),n.midfielders&&g.push(...n.midfielders),n.attackers&&g.push(...n.attackers);const y=g.map(a=>`${a.playerName} (${a.position}, ${a.team}, ${a.price})`).join(`
`),V=n.captain?`${n.captain.playerName} (${n.captain.position}, ${n.captain.team})`:"Not selected",_=n.twelfthMan?`${n.twelfthMan.playerName}`:"Not selected",c=g.reduce((a,t)=>a+parseFloat(t.price.replace("¬£","")),0),T=`TEAM SUBMISSION - ${n.teamName||"Unnamed Team"}

Formation: ${f}
Total Cost: ¬£${c.toFixed(2)}

PLAYERS:
${y}

CAPTAIN: ${V}
12TH MAN: ${_}
`;navigator.clipboard.writeText(T).then(()=>{console.log("Team copied to clipboard!")}).catch(a=>{console.error("Failed to copy team to clipboard:",a)})},w=()=>{u.push("/")};return Y(async()=>{try{const n="/torps-fpl/player_picker.csv";console.log("Loading CSV from:",n);const f=await fetch(n);if(!f.ok)throw new Error(`HTTP ${f.status}: ${f.statusText}`);const y=(await f.text()).split(`
`),V=y[0].split("	");m.value=y.slice(1).filter(_=>_.trim()).map(_=>{const c=_.split("	");return{playerName:c[0],position:c[1],team:c[2],price:c[3],totalPoints:c[4]||"0",pointsPerGame:c[5]||"0",gamesPlayed:c[6]||"0",motmVotes:c[7]||"0",goals:c[8]||"0",assists:c[9]||"0",cleanSheets:c[10]||"0",yellowCards:c[11]||"0",redCards:c[12]||"0"}}),console.log(`Loaded ${m.value.length} players`)}catch(n){console.error("Failed to load player data:",n),console.error("VITE_FILE_ROOT:","/torps-fpl/")}}),(n,f)=>(h(),C("div",Ca,[s("div",{class:"title"},[xa,s("span",{class:"text"},[Ea,s("p",{class:"back-link",onClick:w}," ‚¨ÖÔ∏è Back to League ")])]),$(d(Z),{modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=g=>i.value=g),options:La,allowEmpty:!1,class:"selector"},null,8,["modelValue"]),s("div",Ma,[i.value==="Rules"?(h(),P(Xe,{key:0})):N("",!0),i.value==="Player Stats"?(h(),P(oa,{key:1,players:m.value},null,8,["players"])):N("",!0),i.value==="Pick Team"?(h(),P(Va,{key:2,players:m.value,selectedTeam:e.value,teamValidation:r.value,onUpdateTeam:v,onExportTeam:k},null,8,["players","selectedTeam","teamValidation"])):N("",!0)])]))}},Ha=M(Oa,[["__scopeId","data-v-fa07fb77"]]),Fa=[{path:"/",component:Ye},{path:"/team-picker",component:Ha}],Aa=ge({history:ye(),routes:Fa}),Ia=ne(ie,{semantic:{transitionDuration:"0.05s",primary:{50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},colorScheme:{light:{surface:{0:"#fffdf9",50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},formField:{disabledBackground:"#f5f5f5",disabledColor:"#b3b3b3"},text:{color:"#000"}}}}}),j=de(Ve);j.use(Aa);j.mount("#app");j.use(we,{theme:{preset:Ia,options:{darkModeSelector:".fake-dark-selector"}}});
