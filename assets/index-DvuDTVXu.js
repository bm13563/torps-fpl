import{a as ne}from"../js/vendor/styled-DSgQuI8p.js";import{i as ie}from"../js/vendor/themes-DL8JkT7U.js";import{c as de}from"../js/vendor/runtime-dom-CtfsddF2.js";import{b as ue,o as h,e as S,v as b,l as F,c as C,f as ce,n as A,F as q,p as pe,k as Y,h as s,q as $,g as N,E as G,G as B,H as me,I as fe}from"../js/vendor/runtime-core-ynBvhIh5.js";import{u as ve,a as Q,c as he,b as ge}from"../js/vendor/dist-CHq7v0zE.js";import{s as X}from"../js/vendor/toggleswitch-DLpg8H58.js";import{s as Z}from"../js/vendor/selectbutton-Ba083XO8.js";import{s as ye}from"../js/vendor/progressspinner-CPtq0FJx.js";import{s as H}from"../js/vendor/select-CIyzeswM.js";import{d as be}from"../js/vendor/lib-oVxhnyrt.js";import{s as _e}from"../js/vendor/column-CTe6X_DJ.js";import{s as $e}from"../js/vendor/datatable-QtF6YMTo.js";import{u as d,r as P}from"../js/vendor/reactivity-Dhx2IWMo.js";import{n as ee,t as E,b as ke}from"../js/vendor/shared-7YLTi_yj.js";import{s as ae}from"../js/vendor/button-BW2A4y55.js";import{s as Se}from"../js/vendor/inputtext-CRS9Ss4S.js";import{s as W}from"../js/vendor/multiselect-DH7QLH15.js";import{P as Pe}from"../js/vendor/core-BvHsUG4k.js";import"../js/vendor/utils-DJmc-F4Z.js";import"../js/vendor/ripple-DfDPvZex.js";import"../js/vendor/togglebutton-BX32B6IM.js";import"../js/vendor/icons-BcUEpkMI.js";import"../js/vendor/iconfield-BtrhL1HP.js";import"../js/vendor/inputicon-cOSiGVTQ.js";import"../js/vendor/overlayeventbus-CKr6vRte.js";import"../js/vendor/portal-XRSoYqPB.js";import"../js/vendor/virtualscroller-BaVQnrxr.js";import"../js/vendor/paginator-DxnICM4r.js";import"../js/vendor/inputnumber-B0sL7m2o.js";import"../js/vendor/checkbox-DOAD99u0.js";import"../js/vendor/radiobutton-D2XyLn4V.js";import"../js/vendor/focustrap-Cj7KAqhK.js";import"../js/vendor/badge-JWr2y0kS.js";import"../js/vendor/chip-Cpy-36HV.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))m(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const v of r.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&m(v)}).observe(document,{childList:!0,subtree:!0});function i(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function m(a){if(a.ep)return;a.ep=!0;const r=i(a);fetch(a.href,r)}})();const M=(o,u)=>{const i=o.__vccOpts||o;for(const[m,a]of u)i[m]=a;return i},we={};function Te(o,u){const i=ue("router-view");return h(),S(i)}const Ne=M(we,[["render",Te]]),te="/torps-fpl/assets/torps_logo-DaOS8Yjd.png",Ve={__name:"Table",props:["data","columns","tableHeight","display","sortable"],setup(o){const u=o,i=b(()=>({itemSize:39,appendOnly:!1,showLoader:!1,delay:0})),m=b(()=>{var r;return`table-${((r=u.data)==null?void 0:r.length)||0}-${u.display?"visible":"hidden"}`}),a=()=>{A(()=>{var v;const r=document.querySelector(".p-datatable");r&&r.__vue__&&((v=r.__vue__.virtualScroller)==null||v.refresh())})};return F(()=>u.data,()=>{A(()=>{const r=document.querySelector(".p-virtualscroller");r&&r.__vue__&&r.__vue__.refresh()})},{flush:"post"}),(r,v)=>(h(),C("div",{class:ee({hidden:!o.display})},[(h(),S(d($e),{value:o.data,scrollable:"",scrollHeight:`${u.tableHeight}px`,"virtual-scroller-options":i.value,key:m.value,onVirtualScrollerOptions:a},{default:ce(()=>[(h(!0),C(q,null,pe(o.columns,k=>(h(),S(d(_e),{key:k.field,field:k.field,header:k.header,frozen:k.field==="player",sortable:o.sortable},null,8,["field","header","frozen","sortable"]))),128))]),_:1},8,["value","scrollHeight","virtual-scroller-options"]))],2))}},I=M(Ve,[["__scopeId","data-v-a46d3e23"]]),z=o=>(o="/torps-fpl/"+o,new Promise((u,i)=>{fetch(o).then(m=>{if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);return m.json()}).then(m=>{u(m)}).catch(m=>{i(m)})})),Ce=o=>{const u=o.replace("/","_");return z(`${u}_render_players.json`)},xe=o=>{const u=o.replace("/","_");return z(`${u}_render_teams.json`)},Ee=()=>z("last_updated.json"),R=o=>(G("data-v-d1b86ab0"),o=o(),B(),o),Me={class:"container"},Le={class:"title"},Oe=R(()=>s("img",{src:te,alt:"logo"},null,-1)),He={class:"text"},Fe=R(()=>s("h1",null,"Torps Fantasy League",-1)),Ae={class:"actions"},Ie={key:0,class:"show-extended"},Re=R(()=>s("p",null,"Show all player data",-1)),Ue=R(()=>s("h3",null,"Entries Open!",-1)),De=R(()=>s("p",null,"Please submit your teams for the 25/26 season.",-1)),K=["Players","Teams"],J=["25/26","24/25"],Ge=[{field:"rank",header:"Rank",default:!0},{field:"name",header:"Team Name",default:!0},{field:"owner",header:"Owner",default:!0},{field:"GW Points",header:"Points",default:!0},{field:"Total Points",header:"Total",default:!0}],le=[{field:"player",header:"Player",default:!0},{field:"position",header:"Position",default:!1},{field:"games",header:"Games",default:!0},{field:"Goals",header:"Goals",default:!0},{field:"Assists",header:"Assists",default:!0},{field:"Wins",header:"Wins",default:!1},{field:"Losses",header:"Losses",default:!1},{field:"Draws",header:"Draws",default:!1},{field:"Minutes Played",header:"Minutes",default:!1},{field:"MOTM Votes",header:"Votes",default:!1},{field:"Yellow Cards",header:"Yellows",default:!1},{field:"Red Cards",header:"Reds",default:!1},{field:"Own Goals",header:"Own Goals",default:!1},{field:"Clean Sheet",header:"Clean Sheets",default:!1},{field:"Penalty Saves",header:"Penalty Saves",default:!1},{field:"GW Points",header:"Points",default:!0},{field:"Points",header:"Total",default:!0}],Be=le.filter(o=>o.default),We={__name:"Main",setup(o){const u=ve(),i=Q();let m,a,r,v,k=[];const w=P(!0),n=P(u.query.tab||K[0]),f=P(u.query.season||J[0]),g=P(window.innerHeight>768),y=b(()=>n.value==="Players"),V=b(()=>!a||a.length===0||a.every(t=>!t.name||!t.owner)),_=()=>{const t=document.querySelector(".actions").getBoundingClientRect().bottom;return window.visualViewport.height-t-32},c=(t,l)=>t||k.includes(l)?(k.includes(l)||k.push(l),!0):!1,T=()=>{i.push("/team-picker")},e=async()=>{w.value=!0,m=await Ce(f.value),a=await xe(f.value),a=a.map((t,l)=>({...t,rank:l+1})),w.value=!1};return F(n,t=>{i.push({query:{tab:t,season:f.value}})}),F(f,async t=>{i.push({query:{tab:n.value,season:t}}),await e()}),Y(async()=>{v=_(),await e(),r=await Ee(),r=new Date(r.lastUpdated),i.push({query:{tab:n.value,season:f.value}})}),(t,l)=>(h(),C("div",Me,[s("div",Le,[Oe,s("span",He,[Fe,s("p",null,"Last updated: "+E(d(r)?d(be)(d(r),"yyyy-mm-dd HH:MM"):""),1)])]),$(d(Z),{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=p=>n.value=p),options:K,allowEmpty:!1,class:"selector"},null,8,["modelValue"]),s("div",Ae,[$(d(H),{modelValue:f.value,"onUpdate:modelValue":l[1]||(l[1]=p=>f.value=p),options:J,allowEmpty:!1},null,8,["modelValue"]),y.value?(h(),C("div",Ie,[Re,$(d(X),{modelValue:g.value,"onUpdate:modelValue":l[2]||(l[2]=p=>g.value=p)},null,8,["modelValue"])])):N("",!0)]),w.value?(h(),S(d(ye),{key:0,style:{width:"50px",height:"50px"},strokeWidth:"4",fill:"transparent",animationDuration:".5s"})):(h(),C(q,{key:1},[c(y.value&&g.value,"playersExtended")?(h(),S(I,{key:0,data:d(m),columns:le,tableHeight:d(v),display:y.value&&g.value,sortable:!0},null,8,["data","tableHeight","display"])):N("",!0),c(y.value&&!g.value,"playersDefault")?(h(),S(I,{key:1,data:d(m),columns:d(Be),tableHeight:d(v),display:y.value&&!g.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):N("",!0),!y.value&&V.value&&f.value==="25/26"?(h(),C("div",{key:2,class:"coming-soon",style:ke({height:d(v)+"px"})},[Ue,De,f.value==="25/26"?(h(),S(d(ae),{key:0,label:"Build Team",icon:"pi pi-users",onClick:T,class:"team-picker-btn"})):N("",!0)],4)):N("",!0),c(!y.value&&(!V.value||f.value!=="25/26"),"teams")?(h(),S(I,{key:3,data:d(a),columns:Ge,tableHeight:d(v),display:!y.value&&(!V.value||f.value!=="25/26"),sortable:!1},null,8,["data","tableHeight","display"])):N("",!0)],64))]))}},qe=M(We,[["__scopeId","data-v-d1b86ab0"]]),Ye={},ze={class:"rules-container"},je=me('<div class="rules-content" data-v-48e46b95><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Team Selection</h3><ul data-v-48e46b95><li data-v-48e46b95>Pick 11 players from a £100 budget</li><li data-v-48e46b95>At least 1 NEW player required</li><li data-v-48e46b95>At least 1 player from each team (1, 2, 3, 4)</li><li data-v-48e46b95>No more than 4 players from a single team</li><li data-v-48e46b95>You cannot pick yourself</li></ul></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Captain &amp; 12th Man</h3><ul data-v-48e46b95><li data-v-48e46b95>Pick a captain who scores 2x points</li><li data-v-48e46b95>Cannot captain yourself/12th man</li><li data-v-48e46b95>You are your team&#39;s 12th man (free)</li><li data-v-48e46b95>If not playing, pick a NEW player as 12th man</li></ul></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Prizes</h3><ul data-v-48e46b95><li data-v-48e46b95><strong data-v-48e46b95>1st:</strong> 2/3 of prize pot</li><li data-v-48e46b95><strong data-v-48e46b95>2nd:</strong> Potentially Club Kit</li><li data-v-48e46b95><strong data-v-48e46b95>3rd:</strong> TBD</li></ul><p class="prize-note" data-v-48e46b95>£175 rollover guaranteed + Second Chance League</p></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>How Players Score Points</h3><ul data-v-48e46b95><li data-v-48e46b95>Points awarded for individual &amp; team performance each game</li><li data-v-48e46b95>Points for all competitive games</li><li data-v-48e46b95>Stats taken from manager score sheets at Port of Call</li><li data-v-48e46b95>Team performance points given to anyone who plays</li><li data-v-48e46b95>Player assigned to team they played most for last season</li><li data-v-48e46b95>Players with &quot;?&quot; have poor availability in first half</li></ul></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Winter Wildcard</h3><p data-v-48e46b95> No transfers during the season, but you&#39;ll get a <strong data-v-48e46b95>Winter Wildcard</strong> during the winter break to pick a completely new team for the second half! Prices will be adjusted based on first-half performance. </p></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Submit Your Team</h3><p data-v-48e46b95>Send your completed team to:</p><ul class="contact-list" data-v-48e46b95><li data-v-48e46b95>📱 +447818455491</li><li data-v-48e46b95>✉️ Alexanderhillbusiness@outlook.com</li></ul></div></div>',1),Ke=[je];function Je(o,u){return h(),C("div",ze,Ke)}const Qe=M(Ye,[["render",Je],["__scopeId","data-v-48e46b95"]]),Xe=o=>(G("data-v-8b5d9d32"),o=o(),B(),o),Ze={class:"container"},ea={class:"actions"},aa={class:"show-extended"},ta=Xe(()=>s("p",null,"Show all player data",-1)),la={__name:"StatsTab",props:["players"],setup(o){const u=o,i=["All","GK","DEF","MID","FOR"],m=["All","1","2","3","4","New"],a=P(i[0]),r=P(m[0]),v=P(!1),k=P(!1),w=P(400);let n=[],f=null;const g=[{field:"playerName",header:"Player",default:!0},{field:"position",header:"Position",default:!0},{field:"team",header:"Team",default:!0},{field:"price",header:"Price",default:!0},{field:"totalPoints",header:"Total Pts",default:!0},{field:"pointsPerGame",header:"PPG",default:!0},{field:"gamesPlayed",header:"Games",default:!1},{field:"goals",header:"Goals",default:!1},{field:"assists",header:"Assists",default:!1},{field:"motmVotes",header:"MOTM",default:!1},{field:"cleanSheets",header:"CS",default:!1},{field:"yellowCards",header:"YC",default:!1},{field:"redCards",header:"RC",default:!1}],y=g.filter(e=>e.default),V=(e,t)=>e||n.includes(t)?(n.includes(t)||n.push(t),!0):!1,_=b(()=>{const e=a.value==="All"?null:a.value,t=r.value==="All"?null:r.value==="New"?"NEW":r.value;if(!u.players||u.players.length===0)return[];let l=[...u.players];return e&&(l=l.filter(p=>p.position===e)),t&&(l=l.filter(p=>p.team===t)),l.map(p=>{var O;return{...p,playerName:((O=p.playerName)==null?void 0:O.replace("?",""))||"",position:p.position||"",team:p.team||"",price:p.price||"£0",totalPoints:p.totalPoints||"0",pointsPerGame:p.pointsPerGame||"0.0",gamesPlayed:p.gamesPlayed||"0",goals:p.goals||"0",assists:p.assists||"0",motmVotes:p.motmVotes||"0",cleanSheets:p.cleanSheets||"0",yellowCards:p.yellowCards||"0",redCards:p.redCards||"0"}})}),c=()=>{try{const e=document.querySelector(".container"),t=document.querySelector(".actions");if(!e||!t)return 400;const l=e.getBoundingClientRect(),p=t.getBoundingClientRect(),U=window.innerHeight-p.bottom-32;return Math.max(300,Math.min(U,800))}catch(e){return console.warn("Error calculating table height:",e),400}},T=()=>{const e=c();e!==w.value&&(w.value=e)};return F([a,r,v],async()=>{await A(),setTimeout(()=>{T()},50)},{immediate:!1}),F(()=>_.value.length,async()=>{await A(),setTimeout(()=>{T()},50)}),Y(async()=>{if(await A(),setTimeout(()=>{T()},100),window.ResizeObserver){f=new ResizeObserver(()=>{T()});const e=document.querySelector(".container");e&&f.observe(e)}window.addEventListener("resize",T)}),fe(()=>{f&&f.disconnect(),window.removeEventListener("resize",T)}),(e,t)=>(h(),C("div",Ze,[s("div",ea,[$(d(H),{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=l=>a.value=l),options:i,allowEmpty:!1},null,8,["modelValue"]),$(d(H),{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=l=>r.value=l),options:m,allowEmpty:!1},null,8,["modelValue"]),s("div",aa,[ta,$(d(X),{modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=l=>v.value=l)},null,8,["modelValue"])])]),k.value?N("",!0):(h(),C(q,{key:0},[V(v.value,"playersExtended")?(h(),S(I,{key:`extended-${a.value}-${r.value}-${_.value.length}`,data:_.value,columns:g,tableHeight:w.value,display:v.value,sortable:!0},null,8,["data","tableHeight","display"])):N("",!0),V(!v.value,"playersDefault")?(h(),S(I,{key:`default-${a.value}-${r.value}-${_.value.length}`,data:_.value,columns:d(y),tableHeight:w.value,display:!v.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):N("",!0)],64))]))}},sa=M(la,[["__scopeId","data-v-8b5d9d32"]]),L=o=>(G("data-v-31b4811f"),o=o(),B(),o),oa={class:"minimal-picker"},ra={class:"input-group"},na=L(()=>s("label",null,[s("strong",null,"Team Name")],-1)),ia={class:"validation-container"},da={class:"budget-display"},ua={class:"input-group"},ca=L(()=>s("label",null,[s("strong",null,"Goalkeeper")],-1)),pa={class:"selected-players"},ma={class:"input-group"},fa=L(()=>s("label",null,[s("strong",null,"Defenders")],-1)),va={class:"selected-players"},ha={class:"input-group"},ga=L(()=>s("label",null,[s("strong",null,"Midfielders")],-1)),ya={class:"selected-players"},ba={class:"input-group"},_a=L(()=>s("label",null,[s("strong",null,"Attackers")],-1)),$a={class:"selected-players"},ka={class:"input-group"},Sa=L(()=>s("label",null,[s("strong",null,"Captain (2x Points)")],-1)),Pa={class:"input-group"},wa=L(()=>s("label",null,[s("strong",null,"12th Man")],-1)),Ta={__name:"PickerTab",props:["players","selectedTeam","teamValidation"],emits:["update-team","export-team"],setup(o,{emit:u}){const i=o,m=u,a=P({teamName:"",defenders:[],midfielders:[],attackers:[],goalkeeper:null,captain:null,twelfthMan:null}),r=b(()=>i.players.filter(e=>e.position==="DEF").map(e=>({...e,displayName:`${e.playerName} (${e.price}, Team ${e.team})`}))),v=b(()=>i.players.filter(e=>e.position==="MID").map(e=>({...e,displayName:`${e.playerName} (${e.price}, Team ${e.team})`}))),k=b(()=>i.players.filter(e=>e.position==="FOR").map(e=>({...e,displayName:`${e.playerName} (${e.price}, Team ${e.team})`}))),w=b(()=>i.players.filter(e=>e.position==="GK").map(e=>({...e,displayName:`${e.playerName} (${e.price}, Team ${e.team})`}))),n=b(()=>{const e=[...a.value.defenders,...a.value.midfielders,...a.value.attackers];return a.value.goalkeeper&&e.push(a.value.goalkeeper),e}),f=b(()=>[{playerName:"Yourself (Free)",displayName:"Yourself (Free)",position:"SELF",team:"SELF",price:"£0"},...i.players.filter(e=>e.team==="NEW").map(e=>({...e,displayName:`${e.playerName} (${e.price}, Team ${e.team})`}))]),g=b(()=>{const e=n.value,t=e.length;if(!a.value.teamName.trim())return{valid:!1,message:"Enter a team name"};if(!a.value.goalkeeper)return{valid:!1,message:"Select a goalkeeper"};if(t===0)return{valid:!1,message:"Select some players"};if(t!==11)return{valid:!1,message:`Select 11 players (currently ${t})`};const l=a.value.defenders.length,p=a.value.midfielders.length,O=a.value.attackers.length;if(l<3||l>5)return{valid:!1,message:"Select 3-5 defenders"};if(p<3||p>5)return{valid:!1,message:"Select 3-5 midfielders"};if(O<1||O>3)return{valid:!1,message:"Select 1-3 attackers"};const U=e.reduce((x,re)=>x+parseFloat(re.price.replace("£","")),0);if(U>100)return{valid:!1,message:`Over budget: £${U}/£100`};const D={},oe=e.filter(x=>x.team==="NEW").length;return e.forEach(x=>{x.team!=="NEW"&&(D[x.team]=(D[x.team]||0)+1)}),oe<1?{valid:!1,message:"Select at least 1 NEW player"}:Math.max(...Object.values(D),0)>4?{valid:!1,message:"Max 4 players from one team"}:Object.keys(D).length<4?{valid:!1,message:"Select players from all 4 teams"}:a.value.captain?a.value.twelfthMan?{valid:!0,message:"Your team is valid!"}:{valid:!1,message:"Select a 12th man"}:{valid:!1,message:"Select a captain"}}),y=b(()=>g.value.valid),V=b(()=>g.value.message),_=b(()=>n.value.reduce((t,l)=>t+parseFloat(l.price.replace("£","")),0).toFixed(2)),c=()=>{const e={...a.value,players:n.value,formation:T()};m("update-team",e)},T=()=>{const e=a.value.defenders.length,t=a.value.midfielders.length,l=a.value.attackers.length;return`${e}-${t}-${l}`};return F(()=>i.selectedTeam,e=>{e&&(a.value.teamName=e.teamName||"",a.value.captain=e.captain,a.value.twelfthMan=e.twelfthMan,e.players&&(a.value.defenders=e.players.filter(t=>t.position==="DEF"),a.value.midfielders=e.players.filter(t=>t.position==="MID"),a.value.attackers=e.players.filter(t=>t.position==="FOR"),a.value.goalkeeper=e.players.find(t=>t.position==="GK")||null))},{immediate:!0,deep:!0}),(e,t)=>(h(),C("div",oa,[s("div",ra,[na,$(d(Se),{modelValue:a.value.teamName,"onUpdate:modelValue":t[0]||(t[0]=l=>a.value.teamName=l),placeholder:"Enter your team name",onInput:c},null,8,["modelValue"])]),s("div",ia,[s("div",{class:ee(["validation-message",{valid:y.value,invalid:!y.value}])},E(V.value),3),s("div",da," £"+E(_.value),1)]),s("div",ua,[ca,$(d(H),{modelValue:a.value.goalkeeper,"onUpdate:modelValue":t[1]||(t[1]=l=>a.value.goalkeeper=l),options:w.value,optionLabel:"displayName",placeholder:"Select goalkeeper",onChange:c,class:"position-select"},null,8,["modelValue","options"]),s("div",pa,E(a.value.goalkeeper?`🥅 ${a.value.goalkeeper.playerName}`:"None selected"),1)]),s("div",ma,[fa,$(d(W),{modelValue:a.value.defenders,"onUpdate:modelValue":t[2]||(t[2]=l=>a.value.defenders=l),options:r.value,optionLabel:"displayName",placeholder:"Select defenders",onChange:c,maxSelectedLabels:0,selectedItemsLabel:"{0} defenders selected",class:"position-select"},null,8,["modelValue","options"]),s("div",va,E(a.value.defenders.length>0?`🛡️ ${a.value.defenders.map(l=>l.playerName).join(", ")}`:"None selected"),1)]),s("div",ha,[ga,$(d(W),{modelValue:a.value.midfielders,"onUpdate:modelValue":t[3]||(t[3]=l=>a.value.midfielders=l),options:v.value,optionLabel:"displayName",placeholder:"Select midfielders",onChange:c,maxSelectedLabels:0,selectedItemsLabel:"{0} midfielders selected",class:"position-select"},null,8,["modelValue","options"]),s("div",ya,E(a.value.midfielders.length>0?`⚽ ${a.value.midfielders.map(l=>l.playerName).join(", ")}`:"None selected"),1)]),s("div",ba,[_a,$(d(W),{modelValue:a.value.attackers,"onUpdate:modelValue":t[4]||(t[4]=l=>a.value.attackers=l),options:k.value,optionLabel:"displayName",placeholder:"Select attackers",onChange:c,maxSelectedLabels:0,selectedItemsLabel:"{0} attackers selected",class:"position-select"},null,8,["modelValue","options"]),s("div",$a,E(a.value.attackers.length>0?`🎯 ${a.value.attackers.map(l=>l.playerName).join(", ")}`:"None selected"),1)]),s("div",ka,[Sa,$(d(H),{modelValue:a.value.captain,"onUpdate:modelValue":t[5]||(t[5]=l=>a.value.captain=l),options:n.value,optionLabel:"displayName",placeholder:"Select captain",onChange:c},null,8,["modelValue","options"])]),s("div",Pa,[wa,$(d(H),{modelValue:a.value.twelfthMan,"onUpdate:modelValue":t[6]||(t[6]=l=>a.value.twelfthMan=l),options:f.value,optionLabel:"displayName",placeholder:"Select 12th man",onChange:c},null,8,["modelValue","options"])]),$(d(ae),{label:"Copy Team to Clipboard",icon:"pi pi-copy",disabled:!y.value,onClick:t[7]||(t[7]=l=>e.$emit("export-team")),class:"export-btn"},null,8,["disabled"])]))}},Na=M(Ta,[["__scopeId","data-v-31b4811f"]]),se=o=>(G("data-v-ec1478c4"),o=o(),B(),o),Va={class:"container"},Ca=se(()=>s("img",{src:te,alt:"logo"},null,-1)),xa=se(()=>s("h1",null,"Team Builder",-1)),Ea={class:"tab-content"},Ma=["Rules","Player Stats","Pick Team"],La={__name:"TeamPicker",setup(o){const u=Q(),i=P("Rules"),m=P([]),a=P({teamName:"",defenders:[],midfielders:[],attackers:[],players:[],captain:null,twelfthMan:null,formation:"4-4-2"}),r=b(()=>({isValid:()=>!0})),v=n=>{a.value={...a.value,...n}},k=()=>{const n=a.value,f=n.formation||"Custom",g=[];n.goalkeeper&&g.push(n.goalkeeper),n.defenders&&g.push(...n.defenders),n.midfielders&&g.push(...n.midfielders),n.attackers&&g.push(...n.attackers);const y=g.map(e=>`${e.playerName} (${e.position}, ${e.team}, ${e.price})`).join(`
`),V=n.captain?`${n.captain.playerName} (${n.captain.position}, ${n.captain.team})`:"Not selected",_=n.twelfthMan?`${n.twelfthMan.playerName}`:"Not selected",c=g.reduce((e,t)=>e+parseFloat(t.price.replace("£","")),0),T=`TEAM SUBMISSION - ${n.teamName||"Unnamed Team"}

Formation: ${f}
Total Cost: £${c.toFixed(2)}

PLAYERS:
${y}

CAPTAIN: ${V}
12TH MAN: ${_}
`;navigator.clipboard.writeText(T).then(()=>{console.log("Team copied to clipboard!")}).catch(e=>{console.error("Failed to copy team to clipboard:",e)})},w=()=>{u.push("/")};return Y(async()=>{try{const n="/torps-fpl/player_picker.csv";console.log("Loading CSV from:",n);const f=await fetch(n);if(!f.ok)throw new Error(`HTTP ${f.status}: ${f.statusText}`);const y=(await f.text()).split(`
`),V=y[0].split("	");m.value=y.slice(1).filter(_=>_.trim()).map(_=>{const c=_.split("	");return{playerName:c[0],position:c[1],team:c[2],price:c[3],totalPoints:c[4]||"0",pointsPerGame:c[5]||"0",gamesPlayed:c[6]||"0",motmVotes:c[7]||"0",goals:c[8]||"0",assists:c[9]||"0",cleanSheets:c[10]||"0",yellowCards:c[11]||"0",redCards:c[12]||"0"}}),console.log(`Loaded ${m.value.length} players`)}catch(n){console.error("Failed to load player data:",n),console.error("VITE_FILE_ROOT:","/torps-fpl/")}}),(n,f)=>(h(),C("div",Va,[s("div",{class:"title"},[Ca,s("span",{class:"text"},[xa,s("p",{class:"back-link",onClick:w}," ⬅️ Back to League ")])]),$(d(Z),{modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=g=>i.value=g),options:Ma,allowEmpty:!1,class:"selector"},null,8,["modelValue"]),s("div",Ea,[i.value==="Rules"?(h(),S(Qe,{key:0})):N("",!0),i.value==="Player Stats"?(h(),S(sa,{key:1,players:m.value},null,8,["players"])):N("",!0),i.value==="Pick Team"?(h(),S(Na,{key:2,players:m.value,selectedTeam:a.value,teamValidation:r.value,onUpdateTeam:v,onExportTeam:k},null,8,["players","selectedTeam","teamValidation"])):N("",!0)])]))}},Oa=M(La,[["__scopeId","data-v-ec1478c4"]]),Ha=[{path:"/",component:qe},{path:"/team-picker",component:Oa}],Fa=he({history:ge(),routes:Ha}),Aa=ne(ie,{semantic:{transitionDuration:"0.05s",primary:{50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},colorScheme:{light:{surface:{0:"#fffdf9",50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},formField:{disabledBackground:"#f5f5f5",disabledColor:"#b3b3b3"},text:{color:"#000"}}}}}),j=de(Ne);j.use(Fa);j.mount("#app");j.use(Pe,{theme:{preset:Aa,options:{darkModeSelector:".fake-dark-selector"}}});
