import{a as z}from"../js/vendor/styled-BqWM25Q9.js";import{i as G}from"../js/vendor/themes-DL8JkT7U.js";import{c as Y}from"../js/vendor/runtime-dom-DPieCLYf.js";import{b as W,o,e as p,c as k,E as C,q as T,f as K,F as I,p as J,v as U,l as A,k as Q,h as y,g,G as X,H as Z}from"../js/vendor/runtime-core-Bo7vMbeO.js";import{u as ee,a as te,c as ae,b as se}from"../js/vendor/dist-Bdb8ILV-.js";import{s as re}from"../js/vendor/toggleswitch-By79tnAC.js";import{s as le}from"../js/vendor/selectbutton-CmFX74ex.js";import{s as oe}from"../js/vendor/progressspinner-D6wsPu61.js";import{s as ne}from"../js/vendor/select-B0mE4uEv.js";import{d as ie}from"../js/vendor/lib-oVxhnyrt.js";import{s as ue}from"../js/vendor/column-BTyuqk1b.js";import{s as de}from"../js/vendor/datatable-BhFyI10z.js";import{u as a,r as S}from"../js/vendor/reactivity-Dhx2IWMo.js";import{n as ce,t as fe}from"../js/vendor/shared-7YLTi_yj.js";import{P as pe}from"../js/vendor/core-E-lCN-sd.js";import"../js/vendor/utils-CXbrStuA.js";import"../js/vendor/ripple-BoKhGZ72.js";import"../js/vendor/togglebutton-C-a0e0_C.js";import"../js/vendor/icons-C9KxCpTf.js";import"../js/vendor/iconfield-CrOWoswL.js";import"../js/vendor/inputicon-CEN7Asii.js";import"../js/vendor/inputtext-DhJGGmea.js";import"../js/vendor/overlayeventbus-BSK1J2z9.js";import"../js/vendor/portal-Dzph0WyN.js";import"../js/vendor/virtualscroller-BQVYF_MY.js";import"../js/vendor/paginator-Bnv_e104.js";import"../js/vendor/inputnumber-DeThhC9L.js";import"../js/vendor/button-CVa3KTbL.js";import"../js/vendor/badge-DSBxIqxw.js";import"../js/vendor/checkbox-CN1GMljm.js";import"../js/vendor/radiobutton-SBnvdo6z.js";import"../js/vendor/focustrap-DwTpslTT.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();const L=(t,n)=>{const i=t.__vccOpts||t;for(const[s,e]of n)i[s]=e;return i},me={};function he(t,n){const i=W("router-view");return o(),p(i)}const ge=L(me,[["render",he]]),ye="/torps-fpl/assets/torps_logo-DaOS8Yjd.png",ve={__name:"Table",props:["data","columns","tableHeight","display","sortable"],setup(t){const n=t;return(i,s)=>(o(),k("div",{class:ce({hidden:!t.display})},[s[0]||(C(-1),(s[0]=T(a(de),{value:t.data,scrollable:"",scrollHeight:`${n.tableHeight}px`,"virtual-scroller-options":{itemSize:39,appendOnly:!0}},{default:K(()=>[(o(!0),k(I,null,J(t.columns,e=>(o(),p(a(ue),{key:e.field,field:e.field,header:e.header,frozen:e.field==="player",sortable:t.sortable},null,8,["field","header","frozen","sortable"]))),128))]),_:1},8,["value","scrollHeight"])).cacheIndex=0,C(1),s[0])],2))}},w=L(ve,[["__scopeId","data-v-580904d4"]]),V=t=>(t="/torps-fpl/"+t,new Promise((n,i)=>{fetch(t).then(s=>{if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s.json()}).then(s=>{n(s)}).catch(s=>{i(s)})})),D=t=>V(`${t}_render_players.json`),F=t=>V(`${t}_render_teams.json`),be=()=>V("last_updated.json"),E=t=>(X("data-v-dfac1d5e"),t=t(),Z(),t),_e={class:"container"},we={class:"title"},Pe=E(()=>y("img",{src:ye,alt:"logo"},null,-1)),He={class:"text"},ke=E(()=>y("h1",null,"Torps Fantasy League",-1)),Se={class:"actions"},Te={key:0,class:"show-extended"},Oe=E(()=>y("p",null,"Show all player data",-1)),N=["Players","Teams"],R=["Club","Firsts"],q=[{field:"rank",header:"Rank",default:!0},{field:"name",header:"Team Name",default:!0},{field:"owner",header:"Owner",default:!0},{field:"currentPoints",header:"Points",default:!0},{field:"points",header:"Total",default:!0}],x=[{field:"player",header:"Player",default:!0},{field:"position",header:"Position",default:!1},{field:"games",header:"Games",default:!0},{field:"goals",header:"Goals",default:!0},{field:"assists",header:"Assists",default:!0},{field:"wins",header:"Wins",default:!1},{field:"losses",header:"Losses",default:!1},{field:"draws",header:"Draws",default:!1},{field:"minutes_played",header:"Minutes",default:!1},{field:"motm_votes",header:"Votes",default:!1},{field:"yellow_card",header:"Yellows",default:!1},{field:"red_card",header:"Reds",default:!1},{field:"own_goal",header:"Own Goals",default:!1},{field:"clean_sheet",header:"Clean Sheets",default:!1},{field:"penalty_save",header:"Penalty Saves",default:!1},{field:"currentPoints",header:"Points",default:!0},{field:"points",header:"Total",default:!0}],B=x.filter(t=>t.default),xe={__name:"Main",setup(t){const n=ee(),i=te();let s,e,r,m,P,h,O=[];const $=S(!0),v=S(n.query.tab||N[0]),b=S(n.query.source||R[0]),f=S(window.innerHeight>768),d=U(()=>b.value==="Firsts"),u=U(()=>v.value==="Players"),j=()=>{const c=document.querySelector(".actions").getBoundingClientRect().bottom;return window.visualViewport.height-c-32},_=(c,l)=>c||O.includes(l)?(O.includes(l)||O.push(l),!0):!1;return A(v,c=>{i.push({query:{tab:c,source:b.value}})}),A(b,c=>{i.push({query:{tab:v.value,source:c}})}),Q(async()=>{h=j(),s=await D("firsts"),e=await D("club"),r=await F("firsts"),r=r.map((c,l)=>({...c,rank:l+1})),m=await F("club"),m=m.map((c,l)=>({...c,rank:l+1})),P=await be(),P=new Date(P.lastUpdated),i.push({query:{tab:v.value,source:b.value}}),$.value=!1}),(c,l)=>(o(),k("div",_e,[y("div",we,[Pe,y("span",He,[ke,y("p",null,"Last updated: "+fe(a(P)?a(ie)(a(P),"yyyy-mm-dd HH:MM"):""),1)])]),T(a(le),{modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=H=>v.value=H),options:N,allowEmpty:!1,class:"selector"},null,8,["modelValue"]),y("div",Se,[T(a(ne),{modelValue:b.value,"onUpdate:modelValue":l[1]||(l[1]=H=>b.value=H),options:R,allowEmpty:!1},null,8,["modelValue"]),u.value?(o(),k("div",Te,[Oe,T(a(re),{modelValue:f.value,"onUpdate:modelValue":l[2]||(l[2]=H=>f.value=H)},null,8,["modelValue"])])):g("",!0)]),$.value?(o(),p(a(oe),{key:0,style:{width:"50px",height:"50px"},strokeWidth:"4",fill:"transparent",animationDuration:".5s"})):(o(),k(I,{key:1},[_(d.value&&u.value&&f.value,"firstsPlayersExtended")?(o(),p(w,{key:0,data:a(s),columns:x,tableHeight:a(h),display:d.value&&u.value&&f.value,sortable:!0},null,8,["data","tableHeight","display"])):g("",!0),_(d.value&&u.value&&!f.value,"firstsPlayersDefault")?(o(),p(w,{key:1,data:a(s),columns:a(B),tableHeight:a(h),display:d.value&&u.value&&!f.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):g("",!0),_(!d.value&&u.value&&f.value,"clubPlayersExtended")?(o(),p(w,{key:2,data:a(e),columns:x,tableHeight:a(h),display:!d.value&&u.value&&f.value,sortable:!0},null,8,["data","tableHeight","display"])):g("",!0),_(!d.value&&u.value&&!f.value,"clubPlayersDefault")?(o(),p(w,{key:3,data:a(e),columns:a(B),tableHeight:a(h),display:!d.value&&u.value&&!f.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):g("",!0),_(d.value&&!u.value,"firstsTeams")?(o(),p(w,{key:4,data:a(r),columns:q,tableHeight:a(h),display:d.value&&!u.value,sortable:!1},null,8,["data","tableHeight","display"])):g("",!0),_(!d.value&&!u.value,"clubTeams")?(o(),p(w,{key:5,data:a(m),columns:q,tableHeight:a(h),display:!d.value&&!u.value,sortable:!1},null,8,["data","tableHeight","display"])):g("",!0)],64))]))}},Le=L(xe,[["__scopeId","data-v-dfac1d5e"]]),Ve=[{path:"/",component:Le}],Ee=ae({history:se("/torps-fpl/"),routes:Ve}),Me=z(G,{semantic:{transitionDuration:"0.05s",primary:{50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},colorScheme:{light:{surface:{0:"#fffdf9",50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},formField:{disabledBackground:"#f5f5f5",disabledColor:"#b3b3b3"},text:{color:"#000"}}}}}),M=Y(ge);M.use(Ee);M.mount("#app");M.use(pe,{theme:{preset:Me,options:{darkModeSelector:".fake-dark-selector"}}});
