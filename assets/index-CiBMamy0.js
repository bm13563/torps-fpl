import{a as ie}from"../js/vendor/styled-DSgQuI8p.js";import{i as de}from"../js/vendor/themes-DL8JkT7U.js";import{T as ue,c as ce}from"../js/vendor/runtime-dom-D2rHkHyt.js";import{b as me,o as h,e as P,f as B,q as $,i as pe,v as _,l as M,c as C,F as Y,p as fe,n as A,k as z,h as s,g as V,E as q,G,H as ve,I as he,a as ye}from"../js/vendor/runtime-core-CLCFghaB.js";import{u as X,a as Z,c as ge,b as be}from"../js/vendor/dist-BEUu8mYj.js";import{s as ee}from"../js/vendor/toggleswitch-B_o29054.js";import{s as ae}from"../js/vendor/selectbutton-jVTfnSnZ.js";import{s as _e}from"../js/vendor/progressspinner-DRSgVLeH.js";import{s as F}from"../js/vendor/select-Bt15X5LU.js";import{d as $e}from"../js/vendor/lib-oVxhnyrt.js";import{s as ke}from"../js/vendor/column-DAq-S_4d.js";import{s as Pe}from"../js/vendor/datatable-BsulQdTj.js";import{u,r as w}from"../js/vendor/reactivity-D6IM_JfZ.js";import{n as te,t as x,b as Se}from"../js/vendor/shared-7YLTi_yj.js";import{s as le}from"../js/vendor/button-o3ALGm7c.js";import{s as we}from"../js/vendor/inputtext-CihFUKkG.js";import{s as W}from"../js/vendor/multiselect-DwLn-AKn.js";import{P as Te}from"../js/vendor/core-Dv4hUPYy.js";import"../js/vendor/utils-DJmc-F4Z.js";import"../js/vendor/ripple-C75__z6m.js";import"../js/vendor/togglebutton-DH3e6DXq.js";import"../js/vendor/icons-CQJmC05a.js";import"../js/vendor/iconfield-DczCJfCH.js";import"../js/vendor/inputicon-DjKu-Rkc.js";import"../js/vendor/overlayeventbus-CKr6vRte.js";import"../js/vendor/portal-DoHX-JLU.js";import"../js/vendor/virtualscroller-BNWXBj8d.js";import"../js/vendor/paginator-DE1mls4Q.js";import"../js/vendor/inputnumber-D-eBD2vm.js";import"../js/vendor/checkbox-wGflomnd.js";import"../js/vendor/radiobutton-DBSNiy_y.js";import"../js/vendor/focustrap-hjtdMeGG.js";import"../js/vendor/badge-Cj11s3ra.js";import"../js/vendor/chip-CoFJClcR.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function m(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=m(e);fetch(e.href,o)}})();const L=(n,d)=>{const m=n.__vccOpts||n;for(const[i,e]of d)m[i]=e;return m},Ne={};function Ve(n,d){const m=me("router-view");return h(),P(m,null,{default:B(({Component:i,route:e})=>[$(ue,{name:e.name==="team-picker"?"modal":"page",mode:"out-in"},{default:B(()=>[(h(),P(pe(i)))]),_:2},1032,["name"])]),_:1})}const Ce=L(Ne,[["render",Ve]]),se="/torps-fpl/assets/torps_logo-DaOS8Yjd.png",xe={__name:"Table",props:["data","columns","tableHeight","display","sortable"],setup(n){const d=n,m=_(()=>({itemSize:39,appendOnly:!1,showLoader:!1,delay:0})),i=_(()=>{var o;return`table-${((o=d.data)==null?void 0:o.length)||0}-${d.display?"visible":"hidden"}`}),e=()=>{A(()=>{var f;const o=document.querySelector(".p-datatable");o&&o.__vue__&&((f=o.__vue__.virtualScroller)==null||f.refresh())})};return M(()=>d.data,()=>{A(()=>{const o=document.querySelector(".p-virtualscroller");o&&o.__vue__&&o.__vue__.refresh()})},{flush:"post"}),(o,f)=>(h(),C("div",{class:te({hidden:!n.display})},[(h(),P(u(Pe),{value:n.data,scrollable:"",scrollHeight:`${d.tableHeight}px`,"virtual-scroller-options":m.value,key:i.value,onVirtualScrollerOptions:e},{default:B(()=>[(h(!0),C(Y,null,fe(n.columns,k=>(h(),P(u(ke),{key:k.field,field:k.field,header:k.header,frozen:k.field==="player",sortable:n.sortable},null,8,["field","header","frozen","sortable"]))),128))]),_:1},8,["value","scrollHeight","virtual-scroller-options"]))],2))}},I=L(xe,[["__scopeId","data-v-a46d3e23"]]),j=n=>(n="/torps-fpl/"+n,new Promise((d,m)=>{fetch(n).then(i=>{if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return i.json()}).then(i=>{d(i)}).catch(i=>{m(i)})})),Ee=n=>{const d=n.replace("/","_");return j(`${d}_render_players.json`)},Me=n=>{const d=n.replace("/","_");return j(`${d}_render_teams.json`)},Le=()=>j("last_updated.json"),R=n=>(q("data-v-7b3e3510"),n=n(),G(),n),Oe={class:"container"},He={class:"title"},Fe=R(()=>s("img",{src:se,alt:"logo"},null,-1)),Ae={class:"text"},Ie=R(()=>s("h1",null,"Torps Fantasy League",-1)),Re={class:"actions"},Ue={key:0,class:"show-extended"},De=R(()=>s("p",null,"Show all player data",-1)),qe=R(()=>s("h3",null,"Entries Open!",-1)),Ge=R(()=>s("p",null,"Please submit your teams for the 25/26 season.",-1)),J=["Players","Teams"],Q=["25/26","24/25"],We=[{field:"rank",header:"Rank",default:!0},{field:"name",header:"Team Name",default:!0},{field:"owner",header:"Owner",default:!0},{field:"GW Points",header:"Points",default:!0},{field:"Total Points",header:"Total",default:!0}],oe=[{field:"player",header:"Player",default:!0},{field:"position",header:"Position",default:!1},{field:"games",header:"Games",default:!0},{field:"Goals",header:"Goals",default:!0},{field:"Assists",header:"Assists",default:!0},{field:"Wins",header:"Wins",default:!1},{field:"Losses",header:"Losses",default:!1},{field:"Draws",header:"Draws",default:!1},{field:"Minutes Played",header:"Minutes",default:!1},{field:"MOTM Votes",header:"Votes",default:!1},{field:"Yellow Cards",header:"Yellows",default:!1},{field:"Red Cards",header:"Reds",default:!1},{field:"Own Goals",header:"Own Goals",default:!1},{field:"Clean Sheet",header:"Clean Sheets",default:!1},{field:"Penalty Saves",header:"Penalty Saves",default:!1},{field:"GW Points",header:"Points",default:!0},{field:"Points",header:"Total",default:!0}],Be=oe.filter(n=>n.default),Ye={__name:"Main",setup(n){const d=X(),m=Z();let i,e,o,f,k=[];const T=w(!0),b=w(d.query.tab||J[0]),r=w(d.query.season||Q[0]),y=w(window.innerHeight>768),v=_(()=>b.value==="Players"),S=_(()=>!e||e.length===0||e.every(a=>!a.name||!a.owner)),N=()=>{const a=document.querySelector(".actions").getBoundingClientRect().bottom;return window.visualViewport.height-a-32},g=(a,l)=>a||k.includes(l)?(k.includes(l)||k.push(l),!0):!1,p=()=>{m.push("/team-picker")},t=async()=>{T.value=!0,i=await Ee(r.value),e=await Me(r.value),e=e.map((a,l)=>({...a,rank:l+1})),T.value=!1};return M(b,a=>{m.push({query:{tab:a,season:r.value}})}),M(r,async a=>{m.push({query:{tab:b.value,season:a}}),await t()}),z(async()=>{f=N(),await t(),o=await Le(),o=new Date(o.lastUpdated),m.push({query:{tab:b.value,season:r.value}})}),(a,l)=>(h(),C("div",Oe,[s("div",He,[Fe,s("span",Ae,[Ie,s("p",null,"Last updated: "+x(u(o)?u($e)(u(o),"yyyy-mm-dd HH:MM"):""),1)])]),$(u(ae),{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=c=>b.value=c),options:J,allowEmpty:!1,class:"selector"},null,8,["modelValue"]),s("div",Re,[$(u(F),{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=c=>r.value=c),options:Q,allowEmpty:!1},null,8,["modelValue"]),v.value?(h(),C("div",Ue,[De,$(u(ee),{modelValue:y.value,"onUpdate:modelValue":l[2]||(l[2]=c=>y.value=c)},null,8,["modelValue"])])):V("",!0)]),T.value?(h(),P(u(_e),{key:0,style:{width:"50px",height:"50px"},strokeWidth:"4",fill:"transparent",animationDuration:".5s"})):(h(),C(Y,{key:1},[g(v.value&&y.value,"playersExtended")?(h(),P(I,{key:0,data:u(i),columns:oe,tableHeight:u(f),display:v.value&&y.value,sortable:!0},null,8,["data","tableHeight","display"])):V("",!0),g(v.value&&!y.value,"playersDefault")?(h(),P(I,{key:1,data:u(i),columns:u(Be),tableHeight:u(f),display:v.value&&!y.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):V("",!0),!v.value&&S.value&&r.value==="25/26"?(h(),C("div",{key:2,class:"coming-soon",style:Se({height:u(f)+"px"})},[qe,Ge,r.value==="25/26"?(h(),P(u(le),{key:0,label:"Build Team",icon:"pi pi-users",onClick:p,class:"team-picker-btn"})):V("",!0)],4)):V("",!0),g(!v.value&&(!S.value||r.value!=="25/26"),"teams")?(h(),P(I,{key:3,data:u(e),columns:We,tableHeight:u(f),display:!v.value&&(!S.value||r.value!=="25/26"),sortable:!1},null,8,["data","tableHeight","display"])):V("",!0)],64))]))}},ze=L(Ye,[["__scopeId","data-v-7b3e3510"]]),je={},Ke={class:"rules-container"},Je=ve('<div class="rules-content" data-v-48e46b95><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Team Selection</h3><ul data-v-48e46b95><li data-v-48e46b95>Pick 11 players from a ¬£100 budget</li><li data-v-48e46b95>At least 1 NEW player required</li><li data-v-48e46b95>At least 1 player from each team (1, 2, 3, 4)</li><li data-v-48e46b95>No more than 4 players from a single team</li><li data-v-48e46b95>You cannot pick yourself</li></ul></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Captain &amp; 12th Man</h3><ul data-v-48e46b95><li data-v-48e46b95>Pick a captain who scores 2x points</li><li data-v-48e46b95>Cannot captain yourself/12th man</li><li data-v-48e46b95>You are your team&#39;s 12th man (free)</li><li data-v-48e46b95>If not playing, pick a NEW player as 12th man</li></ul></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Prizes</h3><ul data-v-48e46b95><li data-v-48e46b95><strong data-v-48e46b95>1st:</strong> 2/3 of prize pot</li><li data-v-48e46b95><strong data-v-48e46b95>2nd:</strong> Potentially Club Kit</li><li data-v-48e46b95><strong data-v-48e46b95>3rd:</strong> TBD</li></ul><p class="prize-note" data-v-48e46b95>¬£175 rollover guaranteed + Second Chance League</p></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>How Players Score Points</h3><ul data-v-48e46b95><li data-v-48e46b95>Points awarded for individual &amp; team performance each game</li><li data-v-48e46b95>Points for all competitive games</li><li data-v-48e46b95>Stats taken from manager score sheets at Port of Call</li><li data-v-48e46b95>Team performance points given to anyone who plays</li><li data-v-48e46b95>Player assigned to team they played most for last season</li><li data-v-48e46b95>Players with &quot;?&quot; have poor availability in first half</li></ul></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Winter Wildcard</h3><p data-v-48e46b95> No transfers during the season, but you&#39;ll get a <strong data-v-48e46b95>Winter Wildcard</strong> during the winter break to pick a completely new team for the second half! Prices will be adjusted based on first-half performance. </p></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Submit Your Team</h3><p data-v-48e46b95>Send your completed team to:</p><ul class="contact-list" data-v-48e46b95><li data-v-48e46b95>üì± +447818455491</li><li data-v-48e46b95>‚úâÔ∏è Alexanderhillbusiness@outlook.com</li></ul></div></div>',1),Qe=[Je];function Xe(n,d){return h(),C("div",Ke,Qe)}const Ze=L(je,[["render",Xe],["__scopeId","data-v-48e46b95"]]),ea=n=>(q("data-v-4d310abd"),n=n(),G(),n),aa={class:"container"},ta={class:"actions"},la={class:"show-extended"},sa=ea(()=>s("p",null,"Show all player data",-1)),oa={__name:"StatsTab",props:["players"],setup(n){const d=n,m=["All","GK","DEF","MID","FOR"],i=["All","1","2","3","4","New"],e=w(m[0]),o=w(i[0]),f=w(!1),k=w(!1),T=w(400);let b=[],r=null;const y=[{field:"playerName",header:"Player",default:!0},{field:"position",header:"Position",default:!0},{field:"team",header:"Team",default:!0},{field:"price",header:"Price",default:!0},{field:"totalPoints",header:"Total Pts",default:!0},{field:"pointsPerGame",header:"PPG",default:!0},{field:"gamesPlayed",header:"Games",default:!1},{field:"goals",header:"Goals",default:!1},{field:"assists",header:"Assists",default:!1},{field:"motmVotes",header:"MOTM",default:!1},{field:"cleanSheets",header:"CS",default:!1},{field:"yellowCards",header:"YC",default:!1},{field:"redCards",header:"RC",default:!1}],v=y.filter(t=>t.default),S=(t,a)=>t||b.includes(a)?(b.includes(a)||b.push(a),!0):!1,N=_(()=>{const t=e.value==="All"?null:e.value,a=o.value==="All"?null:o.value==="New"?"NEW":o.value;if(!d.players||d.players.length===0)return[];let l=[...d.players];return t&&(l=l.filter(c=>c.position===t)),a&&(l=l.filter(c=>c.team===a)),l.map(c=>{var H;return{...c,playerName:((H=c.playerName)==null?void 0:H.replace("?",""))||"",position:c.position||"",team:c.team||"",price:c.price||"¬£0",totalPoints:c.totalPoints||"0",pointsPerGame:c.pointsPerGame||"0.0",gamesPlayed:c.gamesPlayed||"0",goals:c.goals||"0",assists:c.assists||"0",motmVotes:c.motmVotes||"0",cleanSheets:c.cleanSheets||"0",yellowCards:c.yellowCards||"0",redCards:c.redCards||"0"}})}),g=()=>{try{const t=document.querySelector(".container"),a=document.querySelector(".actions");if(!t||!a)return 400;const l=t.getBoundingClientRect(),c=a.getBoundingClientRect(),U=window.innerHeight-c.bottom-32;return Math.max(300,Math.min(U,800))}catch(t){return console.warn("Error calculating table height:",t),400}},p=()=>{const t=g();t!==T.value&&(T.value=t)};return M([e,o,f],async()=>{await A(),setTimeout(()=>{p()},50)},{immediate:!1}),M(()=>N.value.length,async()=>{await A(),setTimeout(()=>{p()},50)}),z(async()=>{if(await A(),setTimeout(()=>{p()},100),window.ResizeObserver){r=new ResizeObserver(()=>{p()});const t=document.querySelector(".container");t&&r.observe(t)}window.addEventListener("resize",p)}),he(()=>{r&&r.disconnect(),window.removeEventListener("resize",p)}),(t,a)=>(h(),C("div",aa,[s("div",ta,[$(u(F),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=l=>e.value=l),options:m,allowEmpty:!1},null,8,["modelValue"]),$(u(F),{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=l=>o.value=l),options:i,allowEmpty:!1},null,8,["modelValue"]),s("div",la,[sa,$(u(ee),{modelValue:f.value,"onUpdate:modelValue":a[2]||(a[2]=l=>f.value=l)},null,8,["modelValue"])])]),k.value?V("",!0):(h(),C(Y,{key:0},[S(f.value,"playersExtended")?(h(),P(I,{key:`extended-${e.value}-${o.value}-${N.value.length}`,data:N.value,columns:y,tableHeight:T.value,display:f.value,sortable:!0},null,8,["data","tableHeight","display"])):V("",!0),S(!f.value,"playersDefault")?(h(),P(I,{key:`default-${e.value}-${o.value}-${N.value.length}`,data:N.value,columns:u(v),tableHeight:T.value,display:!f.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):V("",!0)],64))]))}},ra=L(oa,[["__scopeId","data-v-4d310abd"]]),O=n=>(q("data-v-cc0b0608"),n=n(),G(),n),na={class:"minimal-picker"},ia={class:"input-group"},da=O(()=>s("label",null,[s("strong",null,"Team Name")],-1)),ua={class:"validation-container"},ca={class:"budget-display"},ma={class:"input-group"},pa=O(()=>s("label",null,[s("strong",null,"Goalkeeper")],-1)),fa={class:"selected-players"},va={class:"input-group"},ha=O(()=>s("label",null,[s("strong",null,"Defenders")],-1)),ya={class:"selected-players"},ga={class:"input-group"},ba=O(()=>s("label",null,[s("strong",null,"Midfielders")],-1)),_a={class:"selected-players"},$a={class:"input-group"},ka=O(()=>s("label",null,[s("strong",null,"Attackers")],-1)),Pa={class:"selected-players"},Sa={class:"input-group"},wa=O(()=>s("label",null,[s("strong",null,"Captain (2x Points)")],-1)),Ta={class:"input-group"},Na=O(()=>s("label",null,[s("strong",null,"12th Man")],-1)),Va={__name:"PickerTab",props:["players","selectedTeam","teamValidation"],emits:["update-team","export-team"],setup(n,{emit:d}){const m=n,i=d,e=w({teamName:"",defenders:[],midfielders:[],attackers:[],goalkeeper:null,captain:null,twelfthMan:null}),o=_(()=>m.players.filter(t=>t.position==="DEF").map(t=>({...t,displayName:`${t.playerName} (${t.price}, Team ${t.team})`}))),f=_(()=>m.players.filter(t=>t.position==="MID").map(t=>({...t,displayName:`${t.playerName} (${t.price}, Team ${t.team})`}))),k=_(()=>m.players.filter(t=>t.position==="FOR").map(t=>({...t,displayName:`${t.playerName} (${t.price}, Team ${t.team})`}))),T=_(()=>m.players.filter(t=>t.position==="GK").map(t=>({...t,displayName:`${t.playerName} (${t.price}, Team ${t.team})`}))),b=_(()=>{const t=[...e.value.defenders,...e.value.midfielders,...e.value.attackers];return e.value.goalkeeper&&t.push(e.value.goalkeeper),t}),r=_(()=>{const t=b.value.map(a=>a.playerName);return[{playerName:"Yourself (Free)",displayName:"Yourself (Free)",position:"SELF",team:"SELF",price:"¬£0"},...m.players.filter(a=>a.team==="NEW"&&!t.includes(a.playerName)).map(a=>({...a,displayName:`${a.playerName} (Team ${a.team})`}))]}),y=_(()=>{const t=b.value,a=t.length;if(!e.value.teamName.trim())return{valid:!1,message:"Enter a team name"};if(!e.value.goalkeeper)return{valid:!1,message:"Select a goalkeeper"};if(a===0)return{valid:!1,message:"Select some players"};if(a!==11)return{valid:!1,message:`Select 11 players (currently ${a})`};const l=e.value.defenders.length,c=e.value.midfielders.length,H=e.value.attackers.length;if(l<3||l>5)return{valid:!1,message:"Select 3-5 defenders"};if(c<3||c>5)return{valid:!1,message:"Select 3-5 midfielders"};if(H<1||H>3)return{valid:!1,message:"Select 1-3 attackers"};const U=t.reduce((E,ne)=>E+parseFloat(ne.price.replace("¬£","")),0);if(U>100)return{valid:!1,message:`Over budget: ¬£${U}/¬£100`};const D={},re=t.filter(E=>E.team==="NEW").length;return t.forEach(E=>{E.team!=="NEW"&&(D[E.team]=(D[E.team]||0)+1)}),re<1?{valid:!1,message:"Select at least 1 NEW player"}:Math.max(...Object.values(D),0)>4?{valid:!1,message:"Max 4 players from one team"}:Object.keys(D).length<4?{valid:!1,message:"Select players from all 4 teams"}:e.value.captain?e.value.twelfthMan?{valid:!0,message:"Your team is valid!"}:{valid:!1,message:"Select a 12th man"}:{valid:!1,message:"Select a captain"}}),v=_(()=>y.value.valid),S=_(()=>y.value.message),N=_(()=>b.value.reduce((a,l)=>a+parseFloat(l.price.replace("¬£","")),0).toFixed(2)),g=()=>{const t={...e.value,players:b.value,formation:p()};i("update-team",t)},p=()=>{const t=e.value.defenders.length,a=e.value.midfielders.length,l=e.value.attackers.length;return`${t}-${a}-${l}`};return M(()=>m.selectedTeam,t=>{t&&(e.value.teamName=t.teamName||"",e.value.captain=t.captain,e.value.twelfthMan=t.twelfthMan,t.players&&(e.value.defenders=t.players.filter(a=>a.position==="DEF"),e.value.midfielders=t.players.filter(a=>a.position==="MID"),e.value.attackers=t.players.filter(a=>a.position==="FOR"),e.value.goalkeeper=t.players.find(a=>a.position==="GK")||null))},{immediate:!0,deep:!0}),(t,a)=>(h(),C("div",na,[s("div",ia,[da,$(u(we),{modelValue:e.value.teamName,"onUpdate:modelValue":a[0]||(a[0]=l=>e.value.teamName=l),placeholder:"Enter your team name",onInput:g},null,8,["modelValue"])]),s("div",ua,[s("div",{class:te(["validation-message",{valid:v.value,invalid:!v.value}])},[s("strong",null,x(v.value?"":"Invalid Team: "),1),ye(" "+x(S.value),1)],2),s("div",ca," ¬£"+x(100-N.value),1)]),$(u(le),{label:"Copy Team to Clipboard",icon:"pi pi-copy",disabled:!v.value,onClick:a[1]||(a[1]=l=>t.$emit("export-team")),class:"export-btn"},null,8,["disabled"]),s("div",ma,[pa,$(u(F),{modelValue:e.value.goalkeeper,"onUpdate:modelValue":a[2]||(a[2]=l=>e.value.goalkeeper=l),options:T.value,optionLabel:"displayName",placeholder:"Select goalkeeper",onChange:g,class:"position-select"},null,8,["modelValue","options"]),s("div",fa,x(e.value.goalkeeper?`ü•Ö ${e.value.goalkeeper.playerName}`:"None selected"),1)]),s("div",va,[ha,$(u(W),{modelValue:e.value.defenders,"onUpdate:modelValue":a[3]||(a[3]=l=>e.value.defenders=l),options:o.value,optionLabel:"displayName",placeholder:"Select defenders",onChange:g,maxSelectedLabels:0,selectedItemsLabel:"{0} defenders selected",class:"position-select"},null,8,["modelValue","options"]),s("div",ya,x(e.value.defenders.length>0?`üõ°Ô∏è ${e.value.defenders.map(l=>l.playerName).join(", ")}`:"None selected"),1)]),s("div",ga,[ba,$(u(W),{modelValue:e.value.midfielders,"onUpdate:modelValue":a[4]||(a[4]=l=>e.value.midfielders=l),options:f.value,optionLabel:"displayName",placeholder:"Select midfielders",onChange:g,maxSelectedLabels:0,selectedItemsLabel:"{0} midfielders selected",class:"position-select"},null,8,["modelValue","options"]),s("div",_a,x(e.value.midfielders.length>0?`‚öΩ ${e.value.midfielders.map(l=>l.playerName).join(", ")}`:"None selected"),1)]),s("div",$a,[ka,$(u(W),{modelValue:e.value.attackers,"onUpdate:modelValue":a[5]||(a[5]=l=>e.value.attackers=l),options:k.value,optionLabel:"displayName",placeholder:"Select attackers",onChange:g,maxSelectedLabels:0,selectedItemsLabel:"{0} attackers selected",class:"position-select"},null,8,["modelValue","options"]),s("div",Pa,x(e.value.attackers.length>0?`üéØ ${e.value.attackers.map(l=>l.playerName).join(", ")}`:"None selected"),1)]),s("div",Sa,[wa,$(u(F),{modelValue:e.value.captain,"onUpdate:modelValue":a[6]||(a[6]=l=>e.value.captain=l),options:b.value,optionLabel:"displayName",placeholder:"Select captain",onChange:g},null,8,["modelValue","options"])]),s("div",Ta,[Na,$(u(F),{modelValue:e.value.twelfthMan,"onUpdate:modelValue":a[7]||(a[7]=l=>e.value.twelfthMan=l),options:r.value,optionLabel:"displayName",placeholder:"Select 12th man",onChange:g},null,8,["modelValue","options"])])]))}},Ca=L(Va,[["__scopeId","data-v-cc0b0608"]]),xa=n=>(q("data-v-f4affb5e"),n=n(),G(),n),Ea={class:"modal-overlay"},Ma={class:"modal-container"},La=xa(()=>s("div",{class:"title"},[s("img",{src:se,alt:"logo"}),s("span",{class:"text"},[s("h1",null,"Team Builder")])],-1)),Oa={class:"tab-content"},Ha=["Rules","Player Stats","Pick Team"],Fa={__name:"TeamPicker",setup(n){const d=Z(),m=X(),i=w(m.query.tab||"Rules"),e=w([]),o=w({teamName:"",defenders:[],midfielders:[],attackers:[],players:[],captain:null,twelfthMan:null,formation:"4-4-2"}),f=_(()=>({isValid:()=>!0})),k=r=>{o.value={...o.value,...r}},T=()=>{const r=o.value,y=r.formation||"Custom",v=[];r.goalkeeper&&v.push(r.goalkeeper),r.defenders&&v.push(...r.defenders),r.midfielders&&v.push(...r.midfielders),r.attackers&&v.push(...r.attackers);const S=v.map(a=>`${a.playerName} (${a.position}, ${a.team}, ${a.price})`).join(`
`),N=r.captain?`${r.captain.playerName} (${r.captain.position}, ${r.captain.team})`:"Not selected",g=r.twelfthMan?`${r.twelfthMan.playerName}`:"Not selected",p=v.reduce((a,l)=>a+parseFloat(l.price.replace("¬£","")),0),t=`TEAM SUBMISSION - ${r.teamName||"Unnamed Team"}

Formation: ${y}
Total Cost: ¬£${p.toFixed(2)}

PLAYERS:
${S}

CAPTAIN: ${N}
12TH MAN: ${g}
`;navigator.clipboard.writeText(t).then(()=>{console.log("Team copied to clipboard!")}).catch(a=>{console.error("Failed to copy team to clipboard:",a)})},b=()=>{d.push("/?tab=Teams&season=25/26")};return M(i,r=>{d.push({path:"/team-picker",query:{tab:r}})}),z(async()=>{m.query.tab||d.push({path:"/team-picker",query:{tab:i.value}});try{const r="/torps-fpl/player_picker.csv";console.log("Loading CSV from:",r);const y=await fetch(r);if(!y.ok)throw new Error(`HTTP ${y.status}: ${y.statusText}`);const S=(await y.text()).split(`
`),N=S[0].split("	");e.value=S.slice(1).filter(g=>g.trim()).map(g=>{const p=g.split("	");return{playerName:p[0],position:p[1],team:p[2],price:p[3],totalPoints:p[4]||"0",pointsPerGame:p[5]||"0",gamesPlayed:p[6]||"0",motmVotes:p[7]||"0",goals:p[8]||"0",assists:p[9]||"0",cleanSheets:p[10]||"0",yellowCards:p[11]||"0",redCards:p[12]||"0"}}),console.log(`Loaded ${e.value.length} players`)}catch(r){console.error("Failed to load player data:",r),console.error("VITE_FILE_ROOT:","/torps-fpl/")}}),(r,y)=>(h(),C("div",Ea,[s("div",Ma,[s("button",{class:"close-button",onClick:b,"aria-label":"Close"}," √ó "),La,$(u(ae),{modelValue:i.value,"onUpdate:modelValue":y[0]||(y[0]=v=>i.value=v),options:Ha,allowEmpty:!1,class:"selector"},null,8,["modelValue"]),s("div",Oa,[i.value==="Rules"?(h(),P(Ze,{key:0})):V("",!0),i.value==="Player Stats"?(h(),P(ra,{key:1,players:e.value},null,8,["players"])):V("",!0),i.value==="Pick Team"?(h(),P(Ca,{key:2,players:e.value,selectedTeam:o.value,teamValidation:f.value,onUpdateTeam:k,onExportTeam:T},null,8,["players","selectedTeam","teamValidation"])):V("",!0)])])]))}},Aa=L(Fa,[["__scopeId","data-v-f4affb5e"]]),Ia=[{path:"/",name:"main",component:ze},{path:"/team-picker",name:"team-picker",component:Aa}],Ra=ge({history:be(),routes:Ia}),Ua=ie(de,{semantic:{transitionDuration:"0.05s",primary:{50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},colorScheme:{light:{surface:{0:"#fffdf9",50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},formField:{disabledBackground:"#f5f5f5",disabledColor:"#b3b3b3"},text:{color:"#000"}}}}}),K=ce(Ce);K.use(Ra);K.mount("#app");K.use(Te,{theme:{preset:Ua,options:{darkModeSelector:".fake-dark-selector"}}});
