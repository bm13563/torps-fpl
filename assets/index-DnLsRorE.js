import{a as ce}from"../js/vendor/styled-DSgQuI8p.js";import{i as me}from"../js/vendor/themes-DL8JkT7U.js";import{T as pe,c as fe}from"../js/vendor/runtime-dom-D2rHkHyt.js";import{b as ve,o as f,e as E,f as z,q as w,i as he,v as V,l as F,c as C,F as q,p as K,n as G,k as J,h as o,g as O,E as D,G as B,H as ye,I as ge,a as _e}from"../js/vendor/runtime-core-CLCFghaB.js";import{u as X,a as Z,c as be,b as $e}from"../js/vendor/dist-BEUu8mYj.js";import{s as Q}from"../js/vendor/toggleswitch-B_o29054.js";import{s as se}from"../js/vendor/selectbutton-jVTfnSnZ.js";import{s as Pe}from"../js/vendor/progressspinner-DRSgVLeH.js";import{s as R}from"../js/vendor/select-Bt15X5LU.js";import{d as Te}from"../js/vendor/lib-oVxhnyrt.js";import{s as we}from"../js/vendor/column-DAq-S_4d.js";import{s as ke}from"../js/vendor/datatable-BsulQdTj.js";import{u as p,r as T}from"../js/vendor/reactivity-D6IM_JfZ.js";import{n as oe,t as L}from"../js/vendor/shared-7YLTi_yj.js";import{s as re}from"../js/vendor/button-o3ALGm7c.js";import{s as Ne}from"../js/vendor/inputtext-CihFUKkG.js";import{s as j}from"../js/vendor/multiselect-DwLn-AKn.js";import{P as Se}from"../js/vendor/core-Dv4hUPYy.js";import"../js/vendor/utils-DJmc-F4Z.js";import"../js/vendor/ripple-C75__z6m.js";import"../js/vendor/togglebutton-DH3e6DXq.js";import"../js/vendor/icons-CQJmC05a.js";import"../js/vendor/iconfield-DczCJfCH.js";import"../js/vendor/inputicon-DjKu-Rkc.js";import"../js/vendor/overlayeventbus-CKr6vRte.js";import"../js/vendor/portal-DoHX-JLU.js";import"../js/vendor/virtualscroller-BNWXBj8d.js";import"../js/vendor/paginator-DE1mls4Q.js";import"../js/vendor/inputnumber-D-eBD2vm.js";import"../js/vendor/checkbox-wGflomnd.js";import"../js/vendor/radiobutton-DBSNiy_y.js";import"../js/vendor/focustrap-hjtdMeGG.js";import"../js/vendor/badge-Cj11s3ra.js";import"../js/vendor/chip-CoFJClcR.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const y of n.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function m(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(e){if(e.ep)return;e.ep=!0;const n=m(e);fetch(e.href,n)}})();const H=(s,u)=>{const m=s.__vccOpts||s;for(const[d,e]of u)m[d]=e;return m},xe={};function Ve(s,u){const m=ve("router-view");return f(),E(m,null,{default:z(({Component:d,route:e})=>[w(pe,{name:e.name==="team-picker"?"modal":"page",mode:"out-in"},{default:z(()=>[(f(),E(he(d)))]),_:2},1032,["name"])]),_:1})}const Ce=H(xe,[["render",Ve]]),ne="/torps-fpl/assets/torps_logo-DaOS8Yjd.png",Me={__name:"Table",props:["data","columns","tableHeight","display","sortable"],setup(s){const u=s,m=V(()=>({itemSize:39,appendOnly:!1,showLoader:!1,delay:0})),d=V(()=>{var n;return`table-${((n=u.data)==null?void 0:n.length)||0}-${u.display?"visible":"hidden"}`}),e=()=>{G(()=>{var y;const n=document.querySelector(".p-datatable");n&&n.__vue__&&((y=n.__vue__.virtualScroller)==null||y.refresh())})};return F(()=>u.data,()=>{G(()=>{const n=document.querySelector(".p-virtualscroller");n&&n.__vue__&&n.__vue__.refresh()})},{flush:"post"}),(n,y)=>(f(),C("div",{class:oe({hidden:!s.display})},[(f(),E(p(ke),{value:s.data,scrollable:"",scrollHeight:`${u.tableHeight}px`,"virtual-scroller-options":m.value,key:d.value,onVirtualScrollerOptions:e},{default:z(()=>[(f(!0),C(q,null,K(s.columns,_=>(f(),E(p(we),{key:_.field,field:_.field,header:_.header,frozen:_.field==="player",sortable:s.sortable},null,8,["field","header","frozen","sortable"]))),128))]),_:1},8,["value","scrollHeight","virtual-scroller-options"]))],2))}},U=H(Me,[["__scopeId","data-v-a46d3e23"]]),ee=s=>(s="/torps-fpl/"+s,new Promise((u,m)=>{fetch(s).then(d=>{if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);return d.json()}).then(d=>{u(d)}).catch(d=>{m(d)})})),Ee=s=>{const u=s.replace("/","_");return ee(`${u}_render_players.json`)},Le=s=>{const u=s.replace("/","_");return ee(`${u}_render_teams.json`)},Oe=()=>ee("last_updated.json"),W=s=>(D("data-v-967a9877"),s=s(),B(),s),Fe={class:"container"},Ae={class:"title"},He=W(()=>o("img",{src:ne,alt:"logo"},null,-1)),Ie={class:"text"},Re=W(()=>o("h1",null,"Torps Fantasy League",-1)),Ue={class:"actions"},qe={key:0,class:"show-extended"},De=W(()=>o("p",null,"All data",-1)),Be={class:"tom-newman-mode"},Ge=W(()=>o("p",null,"Tom Newman mode",-1)),te=["Players","Teams"],le=["25/26","24/25"],We=[{field:"rank",header:"Rank",default:!0},{field:"name",header:"Team Name",default:!0},{field:"owner",header:"Owner",default:!0},{field:"GW Points",header:"Points",default:!0},{field:"Total Points",header:"Total",default:!0}],ie=[{field:"Player",header:"Player",default:!0},{field:"Position",header:"Position",default:!1},{field:"Games",header:"Games",default:!0},{field:"Goals",header:"Goals",default:!0},{field:"Assists",header:"Assists",default:!0},{field:"Wins",header:"Wins",default:!1},{field:"Losses",header:"Losses",default:!1},{field:"Draws",header:"Draws",default:!1},{field:"Minutes Played",header:"Minutes",default:!1},{field:"MOTM Votes",header:"Votes",default:!1},{field:"Yellow Cards",header:"Yellows",default:!1},{field:"Red Cards",header:"Reds",default:!1},{field:"Own Goals",header:"Own Goals",default:!1},{field:"Clean Sheet",header:"Clean Sheets",default:!1},{field:"Penalty Saves",header:"Penalty Saves",default:!1},{field:"GW Points",header:"Points",default:!0},{field:"Points",header:"Total",default:!0}],Ye=ie.filter(s=>s.default),je={__name:"Main",setup(s){const u=X(),m=Z();let d,e,n=[];const y=T(!0),_=T(!1),k=T([]),S=T([]),i=T([]),$=T([]),v=T(u.query.tab||te[0]),N=T(u.query.season||le[0]),M=T(window.innerHeight>768),b=V(()=>v.value==="Players");V(()=>!S||S.length===0||S.every(c=>!c.name||!c.owner));const g=()=>{const c=document.querySelector(".actions").getBoundingClientRect().bottom;return window.visualViewport.height-c-32},a=(c,r)=>c||n.includes(r)?(n.includes(r)||n.push(r),!0):!1,l=()=>{m.push("/team-picker")},t=async()=>{y.value=!0,i.value=await Ee(N.value),$.value=await Le(N.value),$.value=$.value.map((c,r)=>({...c,rank:r+1})),P(),y.value=!1},P=()=>{_.value?(k.value=i.value.map(c=>({...c,Player:"Tom Newman"})),S.value=$.value.map(c=>({...c,owner:"Tom Newman"}))):(k.value=[...i.value],S.value=[...$.value])};return F(_,()=>{P()}),F(v,c=>{m.push({query:{tab:c,season:N.value}})}),F(N,async c=>{m.push({query:{tab:v.value,season:c}}),await t()}),J(async()=>{e=g(),await t(),d=await Oe(),d=new Date(d.lastUpdated),m.push({query:{tab:v.value,season:N.value}})}),(c,r)=>(f(),C("div",Fe,[o("div",Ae,[He,o("span",Ie,[Re,o("p",null,"Last updated: "+L(p(d)?p(Te)(p(d),"yyyy-mm-dd HH:MM"):""),1)])]),w(p(se),{modelValue:v.value,"onUpdate:modelValue":r[0]||(r[0]=x=>v.value=x),options:te,allowEmpty:!1,class:"selector"},null,8,["modelValue"]),o("div",Ue,[w(p(R),{modelValue:N.value,"onUpdate:modelValue":r[1]||(r[1]=x=>N.value=x),options:le,allowEmpty:!1},null,8,["modelValue"]),b.value?(f(),C("div",qe,[w(p(Q),{modelValue:M.value,"onUpdate:modelValue":r[2]||(r[2]=x=>M.value=x)},null,8,["modelValue"]),De])):O("",!0),o("div",Be,[w(p(Q),{modelValue:_.value,"onUpdate:modelValue":r[3]||(r[3]=x=>_.value=x)},null,8,["modelValue"]),Ge])]),y.value?(f(),E(p(Pe),{key:0,style:{width:"50px",height:"50px"},strokeWidth:"4",fill:"transparent",animationDuration:".5s"})):(f(),C(q,{key:1},[a(b.value&&M.value,"playersExtended")?(f(),E(U,{key:0,data:k.value,columns:ie,tableHeight:p(e),display:b.value&&M.value,sortable:!0},null,8,["data","tableHeight","display"])):O("",!0),a(b.value&&!M.value,"playersDefault")?(f(),E(U,{key:1,data:k.value,columns:p(Ye),tableHeight:p(e),display:b.value&&!M.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):O("",!0),a(!b.value,"teams")?(f(),E(U,{key:2,data:S.value,columns:We,tableHeight:p(e),display:!b.value,sortable:!1},null,8,["data","tableHeight","display"])):O("",!0),w(p(re),{label:"Build Team",icon:"pi pi-users",onClick:l,class:"fab-team-builder","aria-label":"Build your fantasy team"})],64))]))}},ze=H(je,[["__scopeId","data-v-967a9877"]]),h={maxBudget:100,totalPlayers:11,defenders:{min:3,max:5},midfielders:{min:3,max:5},attackers:{min:1,max:3},minPlayersFromEachTeam:1,maxPlayersFromSingleTeam:5,totalTeamsInLeague:4,requireNewPlayer:!1,minNewPlayers:0,captainMultiplier:2},Ke=()=>{const s=h;return{teamSelection:[`Pick ${s.totalPlayers} players from a ¬£${s.maxBudget} budget`,...s.requireNewPlayer?[`At least ${s.minNewPlayers} NEW player${s.minNewPlayers>1?"s":""} required`]:[],`At least ${s.minPlayersFromEachTeam} player from each team (1, 2, 3, 4)`,`No more than ${s.maxPlayersFromSingleTeam} players from a single team`,"You cannot pick yourself"],captainAndTwelfthMan:[`Pick a captain who scores ${s.captainMultiplier}x points`,"Cannot captain yourself/12th man","You are your team's 12th man (free)","If not playing, pick a NEW player as 12th man"]}},de=s=>(D("data-v-3451de01"),s=s(),B(),s),Qe={class:"rules-container"},Je={class:"rules-content"},Xe={class:"rule-card"},Ze=de(()=>o("h3",null,"Team Selection",-1)),ea={class:"rule-card"},aa=de(()=>o("h3",null,"Captain & 12th Man",-1)),ta=ye('<div class="rule-card" data-v-3451de01><h3 data-v-3451de01>Prizes</h3><ul data-v-3451de01><li data-v-3451de01><strong data-v-3451de01>1st:</strong> 2/3 of prize pot</li><li data-v-3451de01><strong data-v-3451de01>2nd:</strong> Potentially Club Kit</li><li data-v-3451de01><strong data-v-3451de01>3rd:</strong> TBD</li></ul><p class="prize-note" data-v-3451de01>¬£175 rollover guaranteed + Second Chance League</p></div><div class="rule-card" data-v-3451de01><h3 data-v-3451de01>How Players Score Points</h3><ul data-v-3451de01><li data-v-3451de01>Points awarded for individual &amp; team performance each game</li><li data-v-3451de01>Points for all competitive games</li><li data-v-3451de01>Stats taken from manager score sheets at Port of Call</li><li data-v-3451de01>Team performance points given to anyone who plays</li><li data-v-3451de01>Player assigned to team they played most for last season</li><li data-v-3451de01>Players with &quot;?&quot; have poor availability in first half</li></ul></div><div class="rule-card" data-v-3451de01><h3 data-v-3451de01>Winter Wildcard</h3><p data-v-3451de01> No transfers during the season, but you&#39;ll get a <strong data-v-3451de01>Winter Wildcard</strong> during the winter break to pick a completely new team for the second half! Prices will be adjusted based on first-half performance. </p></div><div class="rule-card" data-v-3451de01><h3 data-v-3451de01>Submit Your Team</h3><p data-v-3451de01>Send your completed team to:</p><ul class="contact-list" data-v-3451de01><li data-v-3451de01>üì± +447818455491</li><li data-v-3451de01>‚úâÔ∏è Alexanderhillbusiness@outlook.com</li></ul></div>',4),la={__name:"RulesTab",setup(s){const u=Ke();return(m,d)=>(f(),C("div",Qe,[o("div",Je,[o("div",Xe,[Ze,o("ul",null,[(f(!0),C(q,null,K(p(u).teamSelection,e=>(f(),C("li",{key:e},L(e),1))),128))])]),o("div",ea,[aa,o("ul",null,[(f(!0),C(q,null,K(p(u).captainAndTwelfthMan,e=>(f(),C("li",{key:e},L(e),1))),128))])]),ta])]))}},sa=H(la,[["__scopeId","data-v-3451de01"]]),oa=s=>(D("data-v-e8cac047"),s=s(),B(),s),ra={class:"container"},na={class:"actions"},ia={class:"show-extended"},da=oa(()=>o("p",null,"All data",-1)),ua={__name:"StatsTab",props:["players"],setup(s){const u=s,m=X(),d=Z(),e=["All","GK","DEF","MID","FOR"],n=["All","1","2","3","4","New"],y=T(m.query.position||e[0]),_=T(m.query.team||n[0]),k=T(m.query.extended==="true"||!1),S=T(!1),i=T(400);let $=[],v=null;const N=[{field:"playerName",header:"Player",default:!0},{field:"position",header:"Position",default:!0},{field:"team",header:"Team",default:!0},{field:"price",header:"Price",default:!0},{field:"totalPoints",header:"Total Pts",default:!0},{field:"pointsPerGame",header:"PPG",default:!1},{field:"gamesPlayed",header:"Games",default:!1},{field:"goals",header:"Goals",default:!1},{field:"assists",header:"Assists",default:!1},{field:"motmVotes",header:"MOTM",default:!1},{field:"cleanSheets",header:"CS",default:!1},{field:"yellowCards",header:"YC",default:!1},{field:"redCards",header:"RC",default:!1}],M=N.filter(t=>t.default),b=(t,P)=>t||$.includes(P)?($.includes(P)||$.push(P),!0):!1,g=V(()=>{const t=y.value==="All"?null:y.value,P=_.value==="All"?null:_.value==="New"?"NEW":_.value;if(!u.players||u.players.length===0)return[];let c=[...u.players];return t&&(c=c.filter(r=>r.position===t)),P&&(c=c.filter(r=>r.team===P)),c.map(r=>{var x;return{...r,playerName:((x=r.playerName)==null?void 0:x.replace("?",""))||"",position:r.position||"",team:r.team||"",price:r.price||"¬£0",totalPoints:r.totalPoints||"0",pointsPerGame:r.pointsPerGame||"0.0",gamesPlayed:r.gamesPlayed||"0",goals:r.goals||"0",assists:r.assists||"0",motmVotes:r.motmVotes||"0",cleanSheets:r.cleanSheets||"0",yellowCards:r.yellowCards||"0",redCards:r.redCards||"0"}})}),a=()=>{try{const t=document.querySelector(".container"),P=document.querySelector(".actions");if(!t||!P)return 400;const c=t.getBoundingClientRect(),r=P.getBoundingClientRect(),Y=window.innerHeight-r.bottom-32;return Math.max(300,Math.min(Y,800))}catch(t){return console.warn("Error calculating table height:",t),400}},l=()=>{const t=a();t!==i.value&&(i.value=t)};return F([y,_,k],()=>{const t={...m.query};y.value!==e[0]?t.position=y.value:delete t.position,_.value!==n[0]?t.team=_.value:delete t.team,k.value?t.extended="true":delete t.extended,d.push({path:"/team-picker",query:t})}),F(()=>g.value.length,async()=>{await G(),setTimeout(()=>{l()},50)}),J(async()=>{if(await G(),setTimeout(()=>{l()},100),window.ResizeObserver){v=new ResizeObserver(()=>{l()});const t=document.querySelector(".container");t&&v.observe(t)}window.addEventListener("resize",l)}),ge(()=>{v&&v.disconnect(),window.removeEventListener("resize",l)}),(t,P)=>(f(),C("div",ra,[o("div",na,[w(p(R),{modelValue:y.value,"onUpdate:modelValue":P[0]||(P[0]=c=>y.value=c),options:e,allowEmpty:!1},null,8,["modelValue"]),w(p(R),{modelValue:_.value,"onUpdate:modelValue":P[1]||(P[1]=c=>_.value=c),options:n,allowEmpty:!1},null,8,["modelValue"]),o("div",ia,[da,w(p(Q),{modelValue:k.value,"onUpdate:modelValue":P[2]||(P[2]=c=>k.value=c)},null,8,["modelValue"])])]),S.value?O("",!0):(f(),C(q,{key:0},[b(k.value,"playersExtended")?(f(),E(U,{key:`extended-${y.value}-${_.value}-${g.value.length}`,data:g.value,columns:N,tableHeight:i.value,display:k.value,sortable:!0},null,8,["data","tableHeight","display"])):O("",!0),b(!k.value,"playersDefault")?(f(),E(U,{key:`default-${y.value}-${_.value}-${g.value.length}`,data:g.value,columns:p(M),tableHeight:i.value,display:!k.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):O("",!0)],64))]))}},ca=H(ua,[["__scopeId","data-v-e8cac047"]]),I=s=>(D("data-v-8bcb52f5"),s=s(),B(),s),ma={class:"minimal-picker"},pa={class:"input-group"},fa=I(()=>o("label",null,[o("strong",null,"Team Name")],-1)),va={class:"validation-container"},ha={class:"budget-display"},ya={class:"input-group"},ga=I(()=>o("label",null,[o("strong",null,"Goalkeeper")],-1)),_a={class:"selected-players"},ba={class:"input-group"},$a=I(()=>o("label",null,[o("strong",null,"Defenders")],-1)),Pa={class:"selected-players"},Ta={class:"input-group"},wa=I(()=>o("label",null,[o("strong",null,"Midfielders")],-1)),ka={class:"selected-players"},Na={class:"input-group"},Sa=I(()=>o("label",null,[o("strong",null,"Attackers")],-1)),xa={class:"selected-players"},Va={class:"input-group"},Ca=I(()=>o("label",null,[o("strong",null,"Captain (2x Points)")],-1)),Ma={class:"input-group"},Ea=I(()=>o("label",null,[o("strong",null,"12th Man")],-1)),La={__name:"PickerTab",props:["players","selectedTeam","teamValidation"],emits:["update-team","export-team"],setup(s,{emit:u}){const m=s,d=u,e=T({teamName:"",defenders:[],midfielders:[],attackers:[],goalkeeper:null,captain:null,twelfthMan:null}),n=V(()=>m.players.filter(a=>a.position==="DEF").map(a=>({...a,displayName:`${a.playerName} (${a.price}, Team ${a.team})`}))),y=V(()=>m.players.filter(a=>a.position==="MID").map(a=>({...a,displayName:`${a.playerName} (${a.price}, Team ${a.team})`}))),_=V(()=>m.players.filter(a=>a.position==="FOR").map(a=>({...a,displayName:`${a.playerName} (${a.price}, Team ${a.team})`}))),k=V(()=>m.players.filter(a=>a.position==="GK").map(a=>({...a,displayName:`${a.playerName} (${a.price}, Team ${a.team})`}))),S=V(()=>{const a=[...e.value.defenders,...e.value.midfielders,...e.value.attackers];return e.value.goalkeeper&&a.push(e.value.goalkeeper),a}),i=V(()=>{const a=S.value.map(l=>l.playerName);return[{playerName:"Yourself (Free)",displayName:"Yourself (Free)",position:"SELF",team:"SELF",price:"¬£0"},...m.players.filter(l=>l.team==="NEW"&&!a.includes(l.playerName)).map(l=>({...l,displayName:`${l.playerName} (Team ${l.team})`}))]}),$=V(()=>{const a=S.value,l=a.length;if(!e.value.teamName.trim())return{valid:!1,message:"Enter a team name"};if(!e.value.goalkeeper)return{valid:!1,message:"Select a goalkeeper"};if(l===0)return{valid:!1,message:"Select some players"};if(l!==h.totalPlayers)return{valid:!1,message:`Select ${h.totalPlayers} players (currently ${l})`};const t=e.value.defenders.length,P=e.value.midfielders.length,c=e.value.attackers.length;if(t<h.defenders.min||t>h.defenders.max)return{valid:!1,message:`Select ${h.defenders.min}-${h.defenders.max} defenders`};if(P<h.midfielders.min||P>h.midfielders.max)return{valid:!1,message:`Select ${h.midfielders.min}-${h.midfielders.max} midfielders`};if(c<h.attackers.min||c>h.attackers.max)return{valid:!1,message:`Select ${h.attackers.min}-${h.attackers.max} attackers`};const r=a.reduce((A,ue)=>A+parseFloat(ue.price.replace("¬£","")),0);if(r>h.maxBudget)return{valid:!1,message:`Over budget: ¬£${r}/¬£${h.maxBudget}`};const x={},Y=a.filter(A=>A.team==="NEW").length;return a.forEach(A=>{A.team!=="NEW"&&(x[A.team]=(x[A.team]||0)+1)}),h.requireNewPlayer&&Y<h.minNewPlayers?{valid:!1,message:`Select at least ${h.minNewPlayers} NEW player${h.minNewPlayers>1?"s":""}`}:Math.max(...Object.values(x),0)>h.maxPlayersFromSingleTeam?{valid:!1,message:`Max ${h.maxPlayersFromSingleTeam} players from one team`}:Object.keys(x).length<h.totalTeamsInLeague?{valid:!1,message:`Select players from all ${h.totalTeamsInLeague} teams`}:e.value.captain?e.value.twelfthMan?{valid:!0,message:"Your team is valid!"}:{valid:!1,message:"Select a 12th man"}:{valid:!1,message:"Select a captain"}}),v=V(()=>$.value.valid),N=V(()=>$.value.message),M=V(()=>S.value.reduce((l,t)=>l+parseFloat(t.price.replace("¬£","")),0).toFixed(2)),b=()=>{const a={...e.value,players:S.value,formation:g()};d("update-team",a)},g=()=>{const a=e.value.defenders.length,l=e.value.midfielders.length,t=e.value.attackers.length;return`${a}-${l}-${t}`};return F(()=>m.selectedTeam,a=>{a&&(e.value.teamName=a.teamName||"",e.value.captain=a.captain,e.value.twelfthMan=a.twelfthMan,a.players&&(e.value.defenders=a.players.filter(l=>l.position==="DEF"),e.value.midfielders=a.players.filter(l=>l.position==="MID"),e.value.attackers=a.players.filter(l=>l.position==="FOR"),e.value.goalkeeper=a.players.find(l=>l.position==="GK")||null))},{immediate:!0,deep:!0}),(a,l)=>(f(),C("div",ma,[o("div",pa,[fa,w(p(Ne),{modelValue:e.value.teamName,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.teamName=t),placeholder:"Enter your team name",onInput:b},null,8,["modelValue"])]),o("div",va,[o("div",{class:oe(["validation-message",{valid:v.value,invalid:!v.value}])},[o("strong",null,L(v.value?"":"Invalid Team: "),1),_e(" "+L(N.value),1)],2),o("div",ha," ¬£"+L(p(h).maxBudget-M.value),1)]),w(p(re),{label:"Copy Team to Clipboard",icon:"pi pi-copy",disabled:!v.value,onClick:l[1]||(l[1]=t=>a.$emit("export-team")),class:"export-btn"},null,8,["disabled"]),o("div",ya,[ga,w(p(R),{modelValue:e.value.goalkeeper,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.goalkeeper=t),options:k.value,optionLabel:"displayName",placeholder:"Select goalkeeper",onChange:b,class:"position-select"},null,8,["modelValue","options"]),o("div",_a,L(e.value.goalkeeper?`ü•Ö ${e.value.goalkeeper.playerName}`:"None selected"),1)]),o("div",ba,[$a,w(p(j),{modelValue:e.value.defenders,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.defenders=t),options:n.value,optionLabel:"displayName",placeholder:"Select defenders",onChange:b,maxSelectedLabels:0,selectedItemsLabel:"{0} defenders selected",class:"position-select"},null,8,["modelValue","options"]),o("div",Pa,L(e.value.defenders.length>0?`üõ°Ô∏è ${e.value.defenders.map(t=>t.playerName).join(", ")}`:"None selected"),1)]),o("div",Ta,[wa,w(p(j),{modelValue:e.value.midfielders,"onUpdate:modelValue":l[4]||(l[4]=t=>e.value.midfielders=t),options:y.value,optionLabel:"displayName",placeholder:"Select midfielders",onChange:b,maxSelectedLabels:0,selectedItemsLabel:"{0} midfielders selected",class:"position-select"},null,8,["modelValue","options"]),o("div",ka,L(e.value.midfielders.length>0?`‚öΩ ${e.value.midfielders.map(t=>t.playerName).join(", ")}`:"None selected"),1)]),o("div",Na,[Sa,w(p(j),{modelValue:e.value.attackers,"onUpdate:modelValue":l[5]||(l[5]=t=>e.value.attackers=t),options:_.value,optionLabel:"displayName",placeholder:"Select attackers",onChange:b,maxSelectedLabels:0,selectedItemsLabel:"{0} attackers selected",class:"position-select"},null,8,["modelValue","options"]),o("div",xa,L(e.value.attackers.length>0?`üéØ ${e.value.attackers.map(t=>t.playerName).join(", ")}`:"None selected"),1)]),o("div",Va,[Ca,w(p(R),{modelValue:e.value.captain,"onUpdate:modelValue":l[6]||(l[6]=t=>e.value.captain=t),options:S.value,optionLabel:"displayName",placeholder:"Select captain",onChange:b},null,8,["modelValue","options"])]),o("div",Ma,[Ea,w(p(R),{modelValue:e.value.twelfthMan,"onUpdate:modelValue":l[7]||(l[7]=t=>e.value.twelfthMan=t),options:i.value,optionLabel:"displayName",placeholder:"Select 12th man",onChange:b},null,8,["modelValue","options"])])]))}},Oa=H(La,[["__scopeId","data-v-8bcb52f5"]]),Fa=s=>(D("data-v-f4affb5e"),s=s(),B(),s),Aa={class:"modal-overlay"},Ha={class:"modal-container"},Ia=Fa(()=>o("div",{class:"title"},[o("img",{src:ne,alt:"logo"}),o("span",{class:"text"},[o("h1",null,"Team Builder")])],-1)),Ra={class:"tab-content"},Ua=["Rules","Player Stats","Pick Team"],qa={__name:"TeamPicker",setup(s){const u=Z(),m=X(),d=T(m.query.tab||"Rules"),e=T([]),n=T({teamName:"",defenders:[],midfielders:[],attackers:[],players:[],captain:null,twelfthMan:null,formation:"4-4-2"}),y=V(()=>({isValid:()=>!0})),_=i=>{n.value={...n.value,...i}},k=()=>{const i=n.value,$=i.formation||"Custom",v=[];i.goalkeeper&&v.push(i.goalkeeper),i.defenders&&v.push(...i.defenders),i.midfielders&&v.push(...i.midfielders),i.attackers&&v.push(...i.attackers);const N=v.map(l=>`${l.playerName} (${l.position}, ${l.team}, ${l.price})`).join(`
`),M=i.captain?`${i.captain.playerName} (${i.captain.position}, ${i.captain.team})`:"Not selected",b=i.twelfthMan?`${i.twelfthMan.playerName}`:"Not selected",g=v.reduce((l,t)=>l+parseFloat(t.price.replace("¬£","")),0),a=`TEAM SUBMISSION - ${i.teamName||"Unnamed Team"}

Formation: ${$}
Total Cost: ¬£${g.toFixed(2)}

PLAYERS:
${N}

CAPTAIN: ${M}
12TH MAN: ${b}
`;navigator.clipboard.writeText(a).then(()=>{console.log("Team copied to clipboard!")}).catch(l=>{console.error("Failed to copy team to clipboard:",l)})},S=()=>{u.push("/?tab=Teams&season=25/26")};return F(d,i=>{u.push({path:"/team-picker",query:{tab:i}})}),J(async()=>{m.query.tab||u.push({path:"/team-picker",query:{tab:d.value}});try{const i="/torps-fpl/player_picker.csv";console.log("Loading CSV from:",i);const $=await fetch(i);if(!$.ok)throw new Error(`HTTP ${$.status}: ${$.statusText}`);const N=(await $.text()).split(`
`),M=N[0].split("	");e.value=N.slice(1).filter(b=>b.trim()).map(b=>{const g=b.split("	");return{playerName:g[0],position:g[1],team:g[2],price:g[3],totalPoints:g[4]||"0",pointsPerGame:g[5]||"0",gamesPlayed:g[6]||"0",motmVotes:g[7]||"0",goals:g[8]||"0",assists:g[9]||"0",cleanSheets:g[10]||"0",yellowCards:g[11]||"0",redCards:g[12]||"0"}}),console.log(`Loaded ${e.value.length} players`)}catch(i){console.error("Failed to load player data:",i),console.error("VITE_FILE_ROOT:","/torps-fpl/")}}),(i,$)=>(f(),C("div",Aa,[o("div",Ha,[o("button",{class:"close-button",onClick:S,"aria-label":"Close"}," √ó "),Ia,w(p(se),{modelValue:d.value,"onUpdate:modelValue":$[0]||($[0]=v=>d.value=v),options:Ua,allowEmpty:!1,class:"selector"},null,8,["modelValue"]),o("div",Ra,[d.value==="Rules"?(f(),E(sa,{key:0})):O("",!0),d.value==="Player Stats"?(f(),E(ca,{key:1,players:e.value},null,8,["players"])):O("",!0),d.value==="Pick Team"?(f(),E(Oa,{key:2,players:e.value,selectedTeam:n.value,teamValidation:y.value,onUpdateTeam:_,onExportTeam:k},null,8,["players","selectedTeam","teamValidation"])):O("",!0)])])]))}},Da=H(qa,[["__scopeId","data-v-f4affb5e"]]),Ba=[{path:"/",name:"main",component:ze},{path:"/team-picker",name:"team-picker",component:Da}],Ga=be({history:$e(),routes:Ba}),Wa=ce(me,{semantic:{transitionDuration:"0.05s",primary:{50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},colorScheme:{light:{surface:{0:"#fffdf9",50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},formField:{disabledBackground:"#f5f5f5",disabledColor:"#b3b3b3"},text:{color:"#000"}}}}}),ae=fe(Ce);ae.use(Ga);ae.mount("#app");ae.use(Se,{theme:{preset:Wa,options:{darkModeSelector:".fake-dark-selector"}}});
