import{a as ne}from"../js/vendor/styled-DSgQuI8p.js";import{i as ie}from"../js/vendor/themes-DL8JkT7U.js";import{T as de,c as ue}from"../js/vendor/runtime-dom-D2rHkHyt.js";import{b as ce,o as g,e as T,f as B,q as S,i as pe,v as P,l as H,c as x,F as Y,p as me,n as U,k as j,h as s,g as C,E as q,G as D,H as fe,I as ve,a as he}from"../js/vendor/runtime-core-CLCFghaB.js";import{u as z,a as K,c as ye,b as ge}from"../js/vendor/dist-BEUu8mYj.js";import{s as ae}from"../js/vendor/toggleswitch-B_o29054.js";import{s as te}from"../js/vendor/selectbutton-jVTfnSnZ.js";import{s as be}from"../js/vendor/progressspinner-DRSgVLeH.js";import{s as I}from"../js/vendor/select-Bt15X5LU.js";import{d as _e}from"../js/vendor/lib-oVxhnyrt.js";import{s as $e}from"../js/vendor/column-DAq-S_4d.js";import{s as ke}from"../js/vendor/datatable-BsulQdTj.js";import{u as c,r as N}from"../js/vendor/reactivity-D6IM_JfZ.js";import{n as le,t as L}from"../js/vendor/shared-7YLTi_yj.js";import{s as Pe}from"../js/vendor/button-o3ALGm7c.js";import{s as Se}from"../js/vendor/inputtext-CihFUKkG.js";import{s as W}from"../js/vendor/multiselect-DwLn-AKn.js";import{P as we}from"../js/vendor/core-Dv4hUPYy.js";import"../js/vendor/utils-DJmc-F4Z.js";import"../js/vendor/ripple-C75__z6m.js";import"../js/vendor/togglebutton-DH3e6DXq.js";import"../js/vendor/icons-CQJmC05a.js";import"../js/vendor/iconfield-DczCJfCH.js";import"../js/vendor/inputicon-DjKu-Rkc.js";import"../js/vendor/overlayeventbus-CKr6vRte.js";import"../js/vendor/portal-DoHX-JLU.js";import"../js/vendor/virtualscroller-BNWXBj8d.js";import"../js/vendor/paginator-DE1mls4Q.js";import"../js/vendor/inputnumber-D-eBD2vm.js";import"../js/vendor/checkbox-wGflomnd.js";import"../js/vendor/radiobutton-DBSNiy_y.js";import"../js/vendor/focustrap-hjtdMeGG.js";import"../js/vendor/badge-Cj11s3ra.js";import"../js/vendor/chip-CoFJClcR.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function u(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=u(e);fetch(e.href,n)}})();const A=(o,d)=>{const u=o.__vccOpts||o;for(const[i,e]of d)u[i]=e;return u},Ne={};function Te(o,d){const u=ce("router-view");return g(),T(u,null,{default:B(({Component:i,route:e})=>[S(de,{name:e.name==="team-picker"?"modal":"page",mode:"out-in"},{default:B(()=>[(g(),T(pe(i)))]),_:2},1032,["name"])]),_:1})}const Ve=A(Ne,[["render",Te]]),se="/torps-fpl/assets/torps_logo-DaOS8Yjd.png",Ce={__name:"Table",props:["data","columns","tableHeight","display","sortable"],setup(o){const d=o,u=P(()=>({itemSize:39,appendOnly:!1,showLoader:!1,delay:0})),i=P(()=>{var n;return`table-${((n=d.data)==null?void 0:n.length)||0}-${d.display?"visible":"hidden"}`}),e=()=>{U(()=>{var m;const n=document.querySelector(".p-datatable");n&&n.__vue__&&((m=n.__vue__.virtualScroller)==null||m.refresh())})};return H(()=>d.data,()=>{U(()=>{const n=document.querySelector(".p-virtualscroller");n&&n.__vue__&&n.__vue__.refresh()})},{flush:"post"}),(n,m)=>(g(),x("div",{class:le({hidden:!o.display})},[(g(),T(c(ke),{value:o.data,scrollable:"",scrollHeight:`${d.tableHeight}px`,"virtual-scroller-options":u.value,key:i.value,onVirtualScrollerOptions:e},{default:B(()=>[(g(!0),x(Y,null,me(o.columns,v=>(g(),T(c($e),{key:v.field,field:v.field,header:v.header,frozen:v.field==="player",sortable:o.sortable},null,8,["field","header","frozen","sortable"]))),128))]),_:1},8,["value","scrollHeight","virtual-scroller-options"]))],2))}},R=A(Ce,[["__scopeId","data-v-a46d3e23"]]),Q=o=>(o="/torps-fpl/"+o,new Promise((d,u)=>{fetch(o).then(i=>{if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return i.json()}).then(i=>{d(i)}).catch(i=>{u(i)})})),xe=o=>{const d=o.replace("/","_");return Q(`${d}_render_players.json`)},Me=o=>{const d=o.replace("/","_");return Q(`${d}_render_teams.json`)},Ee=()=>Q("last_updated.json"),J=o=>(q("data-v-3534336e"),o=o(),D(),o),Le={class:"container"},Oe={class:"title"},He=J(()=>s("img",{src:se,alt:"logo"},null,-1)),Ae={class:"text"},Fe=J(()=>s("h1",null,"Torps Fantasy League",-1)),Ie={class:"actions"},Re={key:0,class:"show-extended"},Ue=J(()=>s("p",null,"All data",-1)),Z=["Players","Teams"],ee=["25/26","24/25"],qe=[{field:"rank",header:"Rank",default:!0},{field:"name",header:"Team Name",default:!0},{field:"owner",header:"Owner",default:!0},{field:"GW Points",header:"Points",default:!0},{field:"Total Points",header:"Total",default:!0}],oe=[{field:"player",header:"Player",default:!0},{field:"position",header:"Position",default:!1},{field:"games",header:"Games",default:!0},{field:"Goals",header:"Goals",default:!0},{field:"Assists",header:"Assists",default:!0},{field:"Wins",header:"Wins",default:!1},{field:"Losses",header:"Losses",default:!1},{field:"Draws",header:"Draws",default:!1},{field:"Minutes Played",header:"Minutes",default:!1},{field:"MOTM Votes",header:"Votes",default:!1},{field:"Yellow Cards",header:"Yellows",default:!1},{field:"Red Cards",header:"Reds",default:!1},{field:"Own Goals",header:"Own Goals",default:!1},{field:"Clean Sheet",header:"Clean Sheets",default:!1},{field:"Penalty Saves",header:"Penalty Saves",default:!1},{field:"GW Points",header:"Points",default:!0},{field:"Points",header:"Total",default:!0}],De=oe.filter(o=>o.default),Ge={__name:"Main",setup(o){const d=z(),u=K();let i,e,n,m,v=[];const $=N(!0),k=N(d.query.tab||Z[0]),r=N(d.query.season||ee[0]),h=N(window.innerHeight>768),p=P(()=>k.value==="Players"),V=P(()=>!e||e.length===0||e.every(a=>!a.name||!a.owner)),M=()=>{const a=document.querySelector(".actions").getBoundingClientRect().bottom;return window.visualViewport.height-a-32},b=(a,t)=>a||v.includes(t)?(v.includes(t)||v.push(t),!0):!1,f=async()=>{$.value=!0,i=await xe(r.value),e=await Me(r.value),e=e.map((a,t)=>({...a,rank:t+1})),$.value=!1};return H(k,a=>{u.push({query:{tab:a,season:r.value}})}),H(r,async a=>{u.push({query:{tab:k.value,season:a}}),await f()}),j(async()=>{m=M(),await f(),n=await Ee(),n=new Date(n.lastUpdated),u.push({query:{tab:k.value,season:r.value}})}),(a,t)=>(g(),x("div",Le,[s("div",Oe,[He,s("span",Ae,[Fe,s("p",null,"Last updated: "+L(c(n)?c(_e)(c(n),"yyyy-mm-dd HH:MM"):""),1)])]),S(c(te),{modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=l=>k.value=l),options:Z,allowEmpty:!1,class:"selector"},null,8,["modelValue"]),s("div",Ie,[S(c(I),{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=l=>r.value=l),options:ee,allowEmpty:!1},null,8,["modelValue"]),p.value?(g(),x("div",Re,[Ue,S(c(ae),{modelValue:h.value,"onUpdate:modelValue":t[2]||(t[2]=l=>h.value=l)},null,8,["modelValue"])])):C("",!0)]),$.value?(g(),T(c(be),{key:0,style:{width:"50px",height:"50px"},strokeWidth:"4",fill:"transparent",animationDuration:".5s"})):(g(),x(Y,{key:1},[b(p.value&&h.value,"playersExtended")?(g(),T(R,{key:0,data:c(i),columns:oe,tableHeight:c(m),display:p.value&&h.value,sortable:!0},null,8,["data","tableHeight","display"])):C("",!0),b(p.value&&!h.value,"playersDefault")?(g(),T(R,{key:1,data:c(i),columns:c(De),tableHeight:c(m),display:p.value&&!h.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):C("",!0),b(!p.value&&(!V.value||r.value!=="25/26"),"teams")?(g(),T(R,{key:2,data:c(e),columns:qe,tableHeight:c(m),display:!p.value&&(!V.value||r.value!=="25/26"),sortable:!1},null,8,["data","tableHeight","display"])):C("",!0)],64))]))}},We=A(Ge,[["__scopeId","data-v-3534336e"]]),Be={},Ye={class:"rules-container"},je=fe('<div class="rules-content" data-v-48e46b95><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Team Selection</h3><ul data-v-48e46b95><li data-v-48e46b95>Pick 11 players from a ¬£100 budget</li><li data-v-48e46b95>At least 1 NEW player required</li><li data-v-48e46b95>At least 1 player from each team (1, 2, 3, 4)</li><li data-v-48e46b95>No more than 4 players from a single team</li><li data-v-48e46b95>You cannot pick yourself</li></ul></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Captain &amp; 12th Man</h3><ul data-v-48e46b95><li data-v-48e46b95>Pick a captain who scores 2x points</li><li data-v-48e46b95>Cannot captain yourself/12th man</li><li data-v-48e46b95>You are your team&#39;s 12th man (free)</li><li data-v-48e46b95>If not playing, pick a NEW player as 12th man</li></ul></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Prizes</h3><ul data-v-48e46b95><li data-v-48e46b95><strong data-v-48e46b95>1st:</strong> 2/3 of prize pot</li><li data-v-48e46b95><strong data-v-48e46b95>2nd:</strong> Potentially Club Kit</li><li data-v-48e46b95><strong data-v-48e46b95>3rd:</strong> TBD</li></ul><p class="prize-note" data-v-48e46b95>¬£175 rollover guaranteed + Second Chance League</p></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>How Players Score Points</h3><ul data-v-48e46b95><li data-v-48e46b95>Points awarded for individual &amp; team performance each game</li><li data-v-48e46b95>Points for all competitive games</li><li data-v-48e46b95>Stats taken from manager score sheets at Port of Call</li><li data-v-48e46b95>Team performance points given to anyone who plays</li><li data-v-48e46b95>Player assigned to team they played most for last season</li><li data-v-48e46b95>Players with &quot;?&quot; have poor availability in first half</li></ul></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Winter Wildcard</h3><p data-v-48e46b95> No transfers during the season, but you&#39;ll get a <strong data-v-48e46b95>Winter Wildcard</strong> during the winter break to pick a completely new team for the second half! Prices will be adjusted based on first-half performance. </p></div><div class="rule-card" data-v-48e46b95><h3 data-v-48e46b95>Submit Your Team</h3><p data-v-48e46b95>Send your completed team to:</p><ul class="contact-list" data-v-48e46b95><li data-v-48e46b95>üì± +447818455491</li><li data-v-48e46b95>‚úâÔ∏è Alexanderhillbusiness@outlook.com</li></ul></div></div>',1),ze=[je];function Ke(o,d){return g(),x("div",Ye,ze)}const Qe=A(Be,[["render",Ke],["__scopeId","data-v-48e46b95"]]),Je=o=>(q("data-v-e8cac047"),o=o(),D(),o),Xe={class:"container"},Ze={class:"actions"},ea={class:"show-extended"},aa=Je(()=>s("p",null,"All data",-1)),ta={__name:"StatsTab",props:["players"],setup(o){const d=o,u=z(),i=K(),e=["All","GK","DEF","MID","FOR"],n=["All","1","2","3","4","New"],m=N(u.query.position||e[0]),v=N(u.query.team||n[0]),$=N(u.query.extended==="true"||!1),k=N(!1),r=N(400);let h=[],p=null;const V=[{field:"playerName",header:"Player",default:!0},{field:"position",header:"Position",default:!0},{field:"team",header:"Team",default:!0},{field:"price",header:"Price",default:!0},{field:"totalPoints",header:"Total Pts",default:!0},{field:"pointsPerGame",header:"PPG",default:!1},{field:"gamesPlayed",header:"Games",default:!1},{field:"goals",header:"Goals",default:!1},{field:"assists",header:"Assists",default:!1},{field:"motmVotes",header:"MOTM",default:!1},{field:"cleanSheets",header:"CS",default:!1},{field:"yellowCards",header:"YC",default:!1},{field:"redCards",header:"RC",default:!1}],M=V.filter(l=>l.default),b=(l,_)=>l||h.includes(_)?(h.includes(_)||h.push(_),!0):!1,f=P(()=>{const l=m.value==="All"?null:m.value,_=v.value==="All"?null:v.value==="New"?"NEW":v.value;if(!d.players||d.players.length===0)return[];let w=[...d.players];return l&&(w=w.filter(y=>y.position===l)),_&&(w=w.filter(y=>y.team===_)),w.map(y=>{var E;return{...y,playerName:((E=y.playerName)==null?void 0:E.replace("?",""))||"",position:y.position||"",team:y.team||"",price:y.price||"¬£0",totalPoints:y.totalPoints||"0",pointsPerGame:y.pointsPerGame||"0.0",gamesPlayed:y.gamesPlayed||"0",goals:y.goals||"0",assists:y.assists||"0",motmVotes:y.motmVotes||"0",cleanSheets:y.cleanSheets||"0",yellowCards:y.yellowCards||"0",redCards:y.redCards||"0"}})}),a=()=>{try{const l=document.querySelector(".container"),_=document.querySelector(".actions");if(!l||!_)return 400;const w=l.getBoundingClientRect(),y=_.getBoundingClientRect(),G=window.innerHeight-y.bottom-32;return Math.max(300,Math.min(G,800))}catch(l){return console.warn("Error calculating table height:",l),400}},t=()=>{const l=a();l!==r.value&&(r.value=l)};return H([m,v,$],()=>{const l={...u.query};m.value!==e[0]?l.position=m.value:delete l.position,v.value!==n[0]?l.team=v.value:delete l.team,$.value?l.extended="true":delete l.extended,i.push({path:"/team-picker",query:l})}),H(()=>f.value.length,async()=>{await U(),setTimeout(()=>{t()},50)}),j(async()=>{if(await U(),setTimeout(()=>{t()},100),window.ResizeObserver){p=new ResizeObserver(()=>{t()});const l=document.querySelector(".container");l&&p.observe(l)}window.addEventListener("resize",t)}),ve(()=>{p&&p.disconnect(),window.removeEventListener("resize",t)}),(l,_)=>(g(),x("div",Xe,[s("div",Ze,[S(c(I),{modelValue:m.value,"onUpdate:modelValue":_[0]||(_[0]=w=>m.value=w),options:e,allowEmpty:!1},null,8,["modelValue"]),S(c(I),{modelValue:v.value,"onUpdate:modelValue":_[1]||(_[1]=w=>v.value=w),options:n,allowEmpty:!1},null,8,["modelValue"]),s("div",ea,[aa,S(c(ae),{modelValue:$.value,"onUpdate:modelValue":_[2]||(_[2]=w=>$.value=w)},null,8,["modelValue"])])]),k.value?C("",!0):(g(),x(Y,{key:0},[b($.value,"playersExtended")?(g(),T(R,{key:`extended-${m.value}-${v.value}-${f.value.length}`,data:f.value,columns:V,tableHeight:r.value,display:$.value,sortable:!0},null,8,["data","tableHeight","display"])):C("",!0),b(!$.value,"playersDefault")?(g(),T(R,{key:`default-${m.value}-${v.value}-${f.value.length}`,data:f.value,columns:c(M),tableHeight:r.value,display:!$.value,sortable:!1},null,8,["data","columns","tableHeight","display"])):C("",!0)],64))]))}},la=A(ta,[["__scopeId","data-v-e8cac047"]]),F=o=>(q("data-v-cc0b0608"),o=o(),D(),o),sa={class:"minimal-picker"},oa={class:"input-group"},ra=F(()=>s("label",null,[s("strong",null,"Team Name")],-1)),na={class:"validation-container"},ia={class:"budget-display"},da={class:"input-group"},ua=F(()=>s("label",null,[s("strong",null,"Goalkeeper")],-1)),ca={class:"selected-players"},pa={class:"input-group"},ma=F(()=>s("label",null,[s("strong",null,"Defenders")],-1)),fa={class:"selected-players"},va={class:"input-group"},ha=F(()=>s("label",null,[s("strong",null,"Midfielders")],-1)),ya={class:"selected-players"},ga={class:"input-group"},ba=F(()=>s("label",null,[s("strong",null,"Attackers")],-1)),_a={class:"selected-players"},$a={class:"input-group"},ka=F(()=>s("label",null,[s("strong",null,"Captain (2x Points)")],-1)),Pa={class:"input-group"},Sa=F(()=>s("label",null,[s("strong",null,"12th Man")],-1)),wa={__name:"PickerTab",props:["players","selectedTeam","teamValidation"],emits:["update-team","export-team"],setup(o,{emit:d}){const u=o,i=d,e=N({teamName:"",defenders:[],midfielders:[],attackers:[],goalkeeper:null,captain:null,twelfthMan:null}),n=P(()=>u.players.filter(a=>a.position==="DEF").map(a=>({...a,displayName:`${a.playerName} (${a.price}, Team ${a.team})`}))),m=P(()=>u.players.filter(a=>a.position==="MID").map(a=>({...a,displayName:`${a.playerName} (${a.price}, Team ${a.team})`}))),v=P(()=>u.players.filter(a=>a.position==="FOR").map(a=>({...a,displayName:`${a.playerName} (${a.price}, Team ${a.team})`}))),$=P(()=>u.players.filter(a=>a.position==="GK").map(a=>({...a,displayName:`${a.playerName} (${a.price}, Team ${a.team})`}))),k=P(()=>{const a=[...e.value.defenders,...e.value.midfielders,...e.value.attackers];return e.value.goalkeeper&&a.push(e.value.goalkeeper),a}),r=P(()=>{const a=k.value.map(t=>t.playerName);return[{playerName:"Yourself (Free)",displayName:"Yourself (Free)",position:"SELF",team:"SELF",price:"¬£0"},...u.players.filter(t=>t.team==="NEW"&&!a.includes(t.playerName)).map(t=>({...t,displayName:`${t.playerName} (Team ${t.team})`}))]}),h=P(()=>{const a=k.value,t=a.length;if(!e.value.teamName.trim())return{valid:!1,message:"Enter a team name"};if(!e.value.goalkeeper)return{valid:!1,message:"Select a goalkeeper"};if(t===0)return{valid:!1,message:"Select some players"};if(t!==11)return{valid:!1,message:`Select 11 players (currently ${t})`};const l=e.value.defenders.length,_=e.value.midfielders.length,w=e.value.attackers.length;if(l<3||l>5)return{valid:!1,message:"Select 3-5 defenders"};if(_<3||_>5)return{valid:!1,message:"Select 3-5 midfielders"};if(w<1||w>3)return{valid:!1,message:"Select 1-3 attackers"};const y=a.reduce((O,re)=>O+parseFloat(re.price.replace("¬£","")),0);if(y>100)return{valid:!1,message:`Over budget: ¬£${y}/¬£100`};const E={},G=a.filter(O=>O.team==="NEW").length;return a.forEach(O=>{O.team!=="NEW"&&(E[O.team]=(E[O.team]||0)+1)}),G<1?{valid:!1,message:"Select at least 1 NEW player"}:Math.max(...Object.values(E),0)>4?{valid:!1,message:"Max 4 players from one team"}:Object.keys(E).length<4?{valid:!1,message:"Select players from all 4 teams"}:e.value.captain?e.value.twelfthMan?{valid:!0,message:"Your team is valid!"}:{valid:!1,message:"Select a 12th man"}:{valid:!1,message:"Select a captain"}}),p=P(()=>h.value.valid),V=P(()=>h.value.message),M=P(()=>k.value.reduce((t,l)=>t+parseFloat(l.price.replace("¬£","")),0).toFixed(2)),b=()=>{const a={...e.value,players:k.value,formation:f()};i("update-team",a)},f=()=>{const a=e.value.defenders.length,t=e.value.midfielders.length,l=e.value.attackers.length;return`${a}-${t}-${l}`};return H(()=>u.selectedTeam,a=>{a&&(e.value.teamName=a.teamName||"",e.value.captain=a.captain,e.value.twelfthMan=a.twelfthMan,a.players&&(e.value.defenders=a.players.filter(t=>t.position==="DEF"),e.value.midfielders=a.players.filter(t=>t.position==="MID"),e.value.attackers=a.players.filter(t=>t.position==="FOR"),e.value.goalkeeper=a.players.find(t=>t.position==="GK")||null))},{immediate:!0,deep:!0}),(a,t)=>(g(),x("div",sa,[s("div",oa,[ra,S(c(Se),{modelValue:e.value.teamName,"onUpdate:modelValue":t[0]||(t[0]=l=>e.value.teamName=l),placeholder:"Enter your team name",onInput:b},null,8,["modelValue"])]),s("div",na,[s("div",{class:le(["validation-message",{valid:p.value,invalid:!p.value}])},[s("strong",null,L(p.value?"":"Invalid Team: "),1),he(" "+L(V.value),1)],2),s("div",ia," ¬£"+L(100-M.value),1)]),S(c(Pe),{label:"Copy Team to Clipboard",icon:"pi pi-copy",disabled:!p.value,onClick:t[1]||(t[1]=l=>a.$emit("export-team")),class:"export-btn"},null,8,["disabled"]),s("div",da,[ua,S(c(I),{modelValue:e.value.goalkeeper,"onUpdate:modelValue":t[2]||(t[2]=l=>e.value.goalkeeper=l),options:$.value,optionLabel:"displayName",placeholder:"Select goalkeeper",onChange:b,class:"position-select"},null,8,["modelValue","options"]),s("div",ca,L(e.value.goalkeeper?`ü•Ö ${e.value.goalkeeper.playerName}`:"None selected"),1)]),s("div",pa,[ma,S(c(W),{modelValue:e.value.defenders,"onUpdate:modelValue":t[3]||(t[3]=l=>e.value.defenders=l),options:n.value,optionLabel:"displayName",placeholder:"Select defenders",onChange:b,maxSelectedLabels:0,selectedItemsLabel:"{0} defenders selected",class:"position-select"},null,8,["modelValue","options"]),s("div",fa,L(e.value.defenders.length>0?`üõ°Ô∏è ${e.value.defenders.map(l=>l.playerName).join(", ")}`:"None selected"),1)]),s("div",va,[ha,S(c(W),{modelValue:e.value.midfielders,"onUpdate:modelValue":t[4]||(t[4]=l=>e.value.midfielders=l),options:m.value,optionLabel:"displayName",placeholder:"Select midfielders",onChange:b,maxSelectedLabels:0,selectedItemsLabel:"{0} midfielders selected",class:"position-select"},null,8,["modelValue","options"]),s("div",ya,L(e.value.midfielders.length>0?`‚öΩ ${e.value.midfielders.map(l=>l.playerName).join(", ")}`:"None selected"),1)]),s("div",ga,[ba,S(c(W),{modelValue:e.value.attackers,"onUpdate:modelValue":t[5]||(t[5]=l=>e.value.attackers=l),options:v.value,optionLabel:"displayName",placeholder:"Select attackers",onChange:b,maxSelectedLabels:0,selectedItemsLabel:"{0} attackers selected",class:"position-select"},null,8,["modelValue","options"]),s("div",_a,L(e.value.attackers.length>0?`üéØ ${e.value.attackers.map(l=>l.playerName).join(", ")}`:"None selected"),1)]),s("div",$a,[ka,S(c(I),{modelValue:e.value.captain,"onUpdate:modelValue":t[6]||(t[6]=l=>e.value.captain=l),options:k.value,optionLabel:"displayName",placeholder:"Select captain",onChange:b},null,8,["modelValue","options"])]),s("div",Pa,[Sa,S(c(I),{modelValue:e.value.twelfthMan,"onUpdate:modelValue":t[7]||(t[7]=l=>e.value.twelfthMan=l),options:r.value,optionLabel:"displayName",placeholder:"Select 12th man",onChange:b},null,8,["modelValue","options"])])]))}},Na=A(wa,[["__scopeId","data-v-cc0b0608"]]),Ta=o=>(q("data-v-f4affb5e"),o=o(),D(),o),Va={class:"modal-overlay"},Ca={class:"modal-container"},xa=Ta(()=>s("div",{class:"title"},[s("img",{src:se,alt:"logo"}),s("span",{class:"text"},[s("h1",null,"Team Builder")])],-1)),Ma={class:"tab-content"},Ea=["Rules","Player Stats","Pick Team"],La={__name:"TeamPicker",setup(o){const d=K(),u=z(),i=N(u.query.tab||"Rules"),e=N([]),n=N({teamName:"",defenders:[],midfielders:[],attackers:[],players:[],captain:null,twelfthMan:null,formation:"4-4-2"}),m=P(()=>({isValid:()=>!0})),v=r=>{n.value={...n.value,...r}},$=()=>{const r=n.value,h=r.formation||"Custom",p=[];r.goalkeeper&&p.push(r.goalkeeper),r.defenders&&p.push(...r.defenders),r.midfielders&&p.push(...r.midfielders),r.attackers&&p.push(...r.attackers);const V=p.map(t=>`${t.playerName} (${t.position}, ${t.team}, ${t.price})`).join(`
`),M=r.captain?`${r.captain.playerName} (${r.captain.position}, ${r.captain.team})`:"Not selected",b=r.twelfthMan?`${r.twelfthMan.playerName}`:"Not selected",f=p.reduce((t,l)=>t+parseFloat(l.price.replace("¬£","")),0),a=`TEAM SUBMISSION - ${r.teamName||"Unnamed Team"}

Formation: ${h}
Total Cost: ¬£${f.toFixed(2)}

PLAYERS:
${V}

CAPTAIN: ${M}
12TH MAN: ${b}
`;navigator.clipboard.writeText(a).then(()=>{console.log("Team copied to clipboard!")}).catch(t=>{console.error("Failed to copy team to clipboard:",t)})},k=()=>{d.push("/?tab=Teams&season=25/26")};return H(i,r=>{d.push({path:"/team-picker",query:{tab:r}})}),j(async()=>{u.query.tab||d.push({path:"/team-picker",query:{tab:i.value}});try{const r="/torps-fpl/player_picker.csv";console.log("Loading CSV from:",r);const h=await fetch(r);if(!h.ok)throw new Error(`HTTP ${h.status}: ${h.statusText}`);const V=(await h.text()).split(`
`),M=V[0].split("	");e.value=V.slice(1).filter(b=>b.trim()).map(b=>{const f=b.split("	");return{playerName:f[0],position:f[1],team:f[2],price:f[3],totalPoints:f[4]||"0",pointsPerGame:f[5]||"0",gamesPlayed:f[6]||"0",motmVotes:f[7]||"0",goals:f[8]||"0",assists:f[9]||"0",cleanSheets:f[10]||"0",yellowCards:f[11]||"0",redCards:f[12]||"0"}}),console.log(`Loaded ${e.value.length} players`)}catch(r){console.error("Failed to load player data:",r),console.error("VITE_FILE_ROOT:","/torps-fpl/")}}),(r,h)=>(g(),x("div",Va,[s("div",Ca,[s("button",{class:"close-button",onClick:k,"aria-label":"Close"}," √ó "),xa,S(c(te),{modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=p=>i.value=p),options:Ea,allowEmpty:!1,class:"selector"},null,8,["modelValue"]),s("div",Ma,[i.value==="Rules"?(g(),T(Qe,{key:0})):C("",!0),i.value==="Player Stats"?(g(),T(la,{key:1,players:e.value},null,8,["players"])):C("",!0),i.value==="Pick Team"?(g(),T(Na,{key:2,players:e.value,selectedTeam:n.value,teamValidation:m.value,onUpdateTeam:v,onExportTeam:$},null,8,["players","selectedTeam","teamValidation"])):C("",!0)])])]))}},Oa=A(La,[["__scopeId","data-v-f4affb5e"]]),Ha=[{path:"/",name:"main",component:We},{path:"/team-picker",name:"team-picker",component:Oa}],Aa=ye({history:ge(),routes:Ha}),Fa=ne(ie,{semantic:{transitionDuration:"0.05s",primary:{50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},colorScheme:{light:{surface:{0:"#fffdf9",50:"{orange.50}",100:"{orange.100}",200:"{orange.200}",300:"{orange.300}",400:"{orange.400}",500:"{orange.500}",600:"{orange.600}",700:"{orange.700}",800:"{orange.800}",900:"{orange.900}",950:"{orange.950}"},formField:{disabledBackground:"#f5f5f5",disabledColor:"#b3b3b3"},text:{color:"#000"}}}}}),X=ue(Ve);X.use(Aa);X.mount("#app");X.use(we,{theme:{preset:Fa,options:{darkModeSelector:".fake-dark-selector"}}});
